(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-campaigns"],{"00568":function(t,e,a){"use strict";a.r(e);var i=a("0461"),n=a("1b0b");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d9ea");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"0075":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.c-campaigns-flow{overflow:hidden;width:100%}.c-campaigns-flow,.c-campaigns-flow .c-campaigns-flow__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-flow .c-campaigns-flow__box{overflow-y:hidden;margin-bottom:0}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__footer,.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner{padding-right:40px;padding-left:40px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner{overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:40px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner:after{display:block;height:40px;content:""}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition{margin-bottom:24px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition:last-of-type{margin-bottom:0}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__field{margin-bottom:20px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__field:last-of-type{margin-bottom:0}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__segmentation{margin-bottom:20px;max-height:450px;width:100%}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__information .c-campaigns-flow__notice{margin-left:4px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__information .c-campaigns-flow__link{margin-left:8px;text-decoration:underline;font-weight:700}',""]),t.exports=e},"01f7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(a("6a84")),n=c(a("85c1")),s=c(a("e697"));function c(t){return t&&t.__esModule?t:{default:t}}var o={components:{CampaignTemplate:n.default},mixins:[s.default],data(){return{activeBreadcrumbItem:"app.website.campaigns.templates",activeTemplateId:null,loading:!1}},computed:{defaultTemplates(){return{markdownBasis:{format:"markdown",name:this.$t("CAMPAIGNS.TEMPLATES.TEMPLATE_DEFAULT_MARKDOWN_BASIS_NAME"),content:this.$CONFIG.CRISP_CAMPAIGNS_BASIS_MARKDOWN},htmlBasis:{format:"html",name:this.$t("CAMPAIGNS.TEMPLATES.TEMPLATE_DEFAULT_HTML_BASIS_NAME"),content:this.$CONFIG.CRISP_CAMPAIGNS_BASIS_HTML}}}},mounted(){this.$emit("receiver-close-request",null)},methods:{doInsertTemplate(t,e){return Promise.resolve().then(()=>{var a=[];return a.push(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:e}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"format",value:t})),"html"===t&&a.push(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_email",value:!0}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_chatbox",value:!1})),Promise.all(a)}).then(()=>this.$store.dispatch("campaigns/saveCampaign",{websiteId:this.websiteId,campaignId:this.campaignId})).then(()=>{i.default.success("campaigns_templates_insert_done"),this.$router.push({name:"app.website.campaigns.editor",params:{websiteId:this.websiteId,campaignId:this.campaignId}})})},onSkip(){this.$router.push({name:"app.website.campaigns.editor",params:{websiteId:this.websiteId,campaignId:this.campaignId}})},onTemplateDefaultClick(t,e){!0!==this.loading&&(this.loading=!0,Promise.resolve().then(()=>{var e=this.defaultTemplates[t];return e?Promise.resolve(e):Promise.reject()}).then(t=>this.doInsertTemplate(t.format,t.content)).catch(()=>{this.loading=!1,e()}))},onTemplateRemoteClick(t,e){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/fetchTemplate",{websiteId:this.websiteId,templateId:t}).then(t=>this.doInsertTemplate(t.format,t.content)).catch(()=>{this.loading=!1,e()}))}}};e.default=o},"029c":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("bcbb"));function n(t){return t&&t.__esModule?t:{default:t}}var s={components:{CampaignActions:i.default},props:{active:{type:Boolean,default:!1},campaign:{type:Object,required:!0}},data(){return{websiteId:this.$route.params.websiteId}},methods:{onCheckboxChange(t){this.$emit("check",t,this.campaign.campaign_id)},onClick(t){this.$emit("click",this.campaign.campaign_id,t)},onConfigureCampaign(t,e){e.preventDefault(),e.stopPropagation(),this.$emit("configure",t)},onDispatchConfirm(t,e,a){a.preventDefault(),a.stopPropagation(),this.$emit("dispatch",t,e,a)}}};e.default=s},"029d":function(t,e,a){"use strict";var i=a("81f37"),n=a.n(i);n.a},"0461":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"c-dispatch-campaign",attrs:{size:"medium"},on:{close:function(e){t.$emit("close")},enter:t.onDispatch}},["automated"===t.type?a("base-headlines",{attrs:{title:t.$t("CAMPAIGNS.EDIT.MODALS_ACTIVATE_CAMPAIGN_QUESTION"),description:t.$t("CAMPAIGNS.EDIT.MODALS_ACTIVATE_CAMPAIGN_LABEL")}}):a("base-headlines",{attrs:{description:t.$t("CAMPAIGNS.EDIT.MODALS_SEND_CAMPAIGN_LABEL"),title:t.$t("CAMPAIGNS.EDIT.MODALS_SEND_CAMPAIGN_QUESTION")}}),t.tooManyRecipients?a("div",{staticClass:"c-dispatch-campaign__error u-mt20 u-mb20"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.MODALS_SEND_CAMPAIGN_TOO_MANY_RECIPIENTS_1"))),a("base-space"),a("base-link",{attrs:{href:t.$CONFIG.CRISP_URL_HELP+"/en/article/cmvcqw/"}},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.MODALS_SEND_CAMPAIGN_TOO_MANY_RECIPIENTS_2")))])],1):t._e(),"one-shot"===t.type&&t.campaign&&t.campaign.message?a("campaign-template",{staticClass:"u-mt20",attrs:{content:t.campaign.message,format:t.campaign.format,"has-details":!1,"action-color":"black",scrolling:"yes"}}):t._e(),a("base-button",{attrs:{slot:"actions",color:"black",reverse:""},on:{click:function(e){t.$emit("close")}},slot:"actions"},[t._v(t._s(t.$t("BUTTONS.CANCEL")))]),a("base-button",{attrs:{slot:"actions",loading:t.loading,"left-icon":"check_circle"},on:{click:t.onDispatch},slot:"actions"},[t._v(t._s("automated"===t.type?t.$t("CAMPAIGNS.EDIT.MODALS_ACTIVATE_CAMPAIGN_PROCEED"):t.$t("CAMPAIGNS.EDIT.MODALS_SEND_CAMPAIGN_PROCEED")))])],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"0885":function(t,e,a){"use strict";var i=a("bad7"),n=a.n(i);n.a},"0e05":function(t,e,a){"use strict";var i=a("9b80"),n=a.n(i);n.a},"10f5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{section:{type:Object,required:!0}}};e.default=i},"15d9":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{disabled:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},number:{type:String,default:null},showArrow:{type:Boolean,default:!0},success:{type:Boolean,default:!1},title:{type:String,required:!0}}};e.default=i},"163c1":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["c-campaigns-recipients","c-campaigns-recipients--"+t.type]},[a("div",{staticClass:"o-page__header o-page__header--with-breadcrumb"},[a("base-breadcrumb",{staticClass:"o-page__breadcrumb",attrs:{items:t.breadcrumb.items,title:t.$t("CAMPAIGNS.RECIPIENTS.TITLE")}})],1),a("div",{staticClass:"c-campaigns-recipients__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},[a("div",{staticClass:"c-campaigns-recipients__inner"},[a("div",{staticClass:"c-campaigns-recipients__cards"},t._l(t.cards,(function(e){return a("base-card",{key:e.title,staticClass:"c-campaigns-recipients__card",attrs:{active:t.type===e.id,disabled:t.loading,illustration:e.illustration,id:e.id,title:e.title},on:{click:t.onSwitchType}})}))),a("base-divider"),a("div",{class:["c-campaigns-recipients__type",{"c-campaigns-recipients__type--locked":t.loading}]},["all"===t.type?[a("items-selector",{staticClass:"c-campaigns-recipients__items-selector o-table",attrs:{profiles:t.profiles,"search-loading":t.searchLoading,"selected-items":t.selectedItems,"select-all":""},on:{search:t.onSearch,checked:t.onItemChecked}},[t.page>=1?a("infinite-loading",{staticClass:"o-table__infinite",attrs:{slot:"infinite-loading"},on:{infinite:t.onLoadMoreContacts},slot:"infinite-loading"},[a("base-spinner",{staticClass:"o-table__spinner",attrs:{slot:"spinner",size:"18px","border-width":"2px"},slot:"spinner"})],1):t._e()],1)]:"people"===t.type?[a("items-selector",{staticClass:"c-campaigns-recipients__items-selector",attrs:{profiles:t.profiles,"search-loading":t.searchLoading,"selected-items":t.selectedItems},on:{search:t.onSearch,checked:t.onItemChecked}})]:"segment"===t.type?[a("items-selector",{staticClass:"c-campaigns-recipients__items-selector",attrs:{search:!1,segments:t.segments,"selected-items":t.selectedItems},on:{checked:t.onItemChecked}})]:"filter"===t.type?[a("div",{staticClass:"c-campaigns-recipients__segmentation"},[t.filters&&t.filters.length>0?a("div",{staticClass:"c-campaigns-recipients__filters"},t._l(t.filters,(function(e){return a("div",{key:e.filter_id,class:["c-campaigns-recipients__filter","u-ellipsis",{"c-campaigns-recipients__filter--active":e.filter_id===t.activeFilter}],on:{click:function(a){t.onFilterClick(e)}}},[t._v(t._s(e.label))])}))):t._e(),a("segmentation-box",{staticClass:"c-campaigns-recipients__box",attrs:{center:0===t.filter.length,"has-create":!1,"most-used":!1,theme:"light",type:"people",override:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]:t._e()],2),"all"===t.type||"people"===t.type?a("div",{staticClass:"c-campaigns-recipients__targets"},["all"===t.type?[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_ALL")))]:0===Object.keys(t.selectedItems).length?[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_NONE")))]:Object.keys(t.selectedItems).length>0?[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_CONTACTS_1"))+" "+t._s(Object.keys(t.selectedItems).length)+" "+t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_CONTACTS_2")))]:t._e(),t._v(".")],2):t._e()],1),a("base-navigation",{staticClass:"c-campaigns-recipients__footer o-page__footer",attrs:{"has-divider":!1}},[a("template",{slot:"right"},[a("base-button",{attrs:{disabled:!t.isValid,loading:t.loading,"right-icon":"chevron_right"},on:{click:t.onSaveRecipients}},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.NEXT")))])],1)],2)],1)])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"19e3":function(t,e,a){"use strict";a.r(e);var i=a("10f5"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1ab9":function(t,e,a){"use strict";a.r(e);var i=a("6f92"),n=a("e9c2");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("da99");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"1b0b":function(t,e,a){"use strict";a.r(e);var i=a("cfa5"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1c54":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaign-actions .c-campaign-actions__action{margin-right:8px}.c-campaign-actions .c-campaign-actions__action:last-of-type{margin-right:0}",""]),t.exports=e},"1c62":function(t,e,a){"use strict";a.r(e);var i=a("64c3"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1f75":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("9100")),n=s(a("9829"));function s(t){return t&&t.__esModule?t:{default:t}}var c={methods:{onChatWithProfile(t){i.default.profileConversations(this.websiteId,t,1).get().then(e=>{var a;e.length>0?this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:e[0]}}):n.default.createConversation(this.websiteId).then(e=>{a=e.session_id;var n=this.$store.getters["contacts/getProfile"](t);return n?Promise.resolve(n):i.default.profileWithId(this.websiteId,t).get()}).then(t=>{var e={email:t.email};t.person&&t.person.nickname&&(e.nickname=t.person.nickname),n.default.updateMeta(this.websiteId,a,e).then(()=>{this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:a}})})})})}}};e.default=c},"20ef":function(t,e,a){"use strict";a.r(e);var i=a("54ec"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},2184:function(t,e,a){var i=a("51bc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("27a9010c",i,!0,{sourceMap:!1,shadowMode:!1})},"24f9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaigns-editor"},[t.hideEditor?t._e():[a("div",{staticClass:"o-page__header o-page__header--with-breadcrumb"},[a("base-breadcrumb",{staticClass:"o-page__breadcrumb",attrs:{items:t.breadcrumb.items,title:t.$t("CAMPAIGNS.EDIT.TITLE")},on:{click:t.onBreadcrumbItemClick}})],1),t.campaign?a("div",{staticClass:"c-campaigns-editor__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},[a("common-editor",{ref:"commonEditor",staticClass:"c-campaigns-editor__editor",attrs:{controls:t.editorControls,disabled:t.isDisabled,format:t.campaign.format,formats:["markdown","html"],"controls-class":"c-campaigns-editor__controls",type:"campaign"},on:{toggleFormat:t.onToggleFormat,changeMode:t.onChangeMode},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[a("template",{slot:"header"},[a("field-input",{staticClass:"c-campaigns-editor__name",attrs:{"has-borders":!1,placeholder:t.$t("CAMPAIGNS.EDIT.EDITOR_NAME_PLACEHOLDER"),name:"name",size:"large","text-align":"center"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("template",{slot:"banner"},["html"!==t.campaign.format&&t.message&&t.message.length>t.$CONFIG.CRISP_LIMITS_MESSAGES_CHARACTERS?a("base-banner",{attrs:{content:t.$t("CAMPAIGNS.EDIT.EDITOR_ERROR_LABEL")+" — "+t.message.length+" / "+t.$CONFIG.CRISP_LIMITS_MESSAGES_CHARACTERS+" "+t.$t("CAMPAIGNS.EDIT.EDITOR_ERROR_MARKED"),"has-close":!1,color:"red","text-align":"center"}}):t._e(),t.campaign.ready||"automated"===t.campaign.type?t._e():a("base-banner",{attrs:{content:t.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_ONE_SHOT_NOT_READY"),"has-close":!1,"text-align":"center"}}),t.campaign.dispatched&&"automated"!==t.campaign.type?a("base-banner",{attrs:{content:t.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_ONE_SHOT_DISPATCHED"),"has-close":!1,color:"grey","text-align":"center"}}):t._e(),t.campaign.ready||"automated"!==t.campaign.type?t._e():a("base-banner",{attrs:{content:t.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_AUTOMATED_NOT_READY"),"has-close":!1,"text-align":"center"}}),t.campaign.ready&&!t.campaign.running&&t.campaign.dispatched&&"automated"===t.campaign.type?a("base-banner",{attrs:{content:t.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_AUTOMATED_DEACTIVATED"),"has-close":!1,color:"grey","text-align":"center"}}):t._e()],1),a("template",{slot:"leftFooter"},["html"===t.campaign.format?a("div",{staticClass:"c-campaigns-editor__section c-campaigns-editor__section--templates",on:{click:t.onManageTemplates}},[a("base-icon",{staticClass:"c-campaigns-editor__icon",attrs:{name:"view_module"}}),a("div",{staticClass:"c-campaigns-editor__label"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_MANAGE_TEMPLATES")))])],1):t._e(),a("div",{staticClass:"c-campaigns-editor__section c-campaigns-editor__section--tracking"},["html"!==t.campaign.format?a("div",{staticClass:"c-campaigns-editor__label"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_DELIVER_TO")))]):t._e(),"html"!==t.campaign.format?a("field-checkbox",{staticClass:"c-campaigns-editor__field",attrs:{block:!1,label:t.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_DELIVER_TO_CHATBOX"),name:"deliverToChatbox"},model:{value:t.deliverToChatbox,callback:function(e){t.deliverToChatbox=e},expression:"deliverToChatbox"}}):t._e(),"html"!==t.campaign.format?a("field-checkbox",{staticClass:"c-campaigns-editor__field",attrs:{block:!1,label:t.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_DELIVER_TO_EMAIL"),name:"deliverToEmail"},model:{value:t.deliverToEmail,callback:function(e){t.deliverToEmail=e},expression:"deliverToEmail"}}):t._e(),a("field-checkbox",{staticClass:"c-campaigns-editor__field",attrs:{block:!1,label:t.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_TRACKING"),name:"tracking"},model:{value:t.tracking,callback:function(e){t.tracking=e},expression:"tracking"}})],1),a("div",{staticClass:"c-campaigns-editor__section"},[a("div",{staticClass:"c-campaigns-editor__label"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_SEND_AS")))]),a("field-select",{staticClass:"c-campaigns-editor__sender",attrs:{"full-width":!1,options:t.senderOptions,position:"top",name:"segment",size:"small",searchable:""},model:{value:t.sender,callback:function(e){t.sender=e},expression:"sender"}})],1),"automated"!==t.campaign.type?a("div",{staticClass:"c-campaigns-editor__section c-campaigns-editor__section--recipients"},[a("div",{staticClass:"c-campaigns-editor__label"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS")))]),a("span",{staticClass:"c-campaigns-editor__recipients",model:{value:t.targetsCount,callback:function(e){t.targetsCount=e},expression:"targetsCount"}},[t._v(t._s(t.targetsCount))]),"∞"===t.targetsCount?a("span",{staticClass:"c-campaigns-editor__recipients-help u-has-tooltip"},[t._m(0,!1,!0),a("base-icon",{staticClass:"c-campaigns-editor__recipients-help-icon",attrs:{name:"help",size:"16px"}})],1):t._e()]):t._e()]),a("template",{slot:"rightFooter"},[a("campaign-actions",{staticClass:"c-campaigns-editor__actions c-campaigns-editor__section",attrs:{campaign:t.campaign,format:t.campaign.format,"is-campaign-edited":t.isCampaignEdited,"is-directory":!1,mode:t.mode},on:{clearWidgets:t.onClearWidgets,dispatch:t.onDispatchConfirm,saved:t.onCampaignSaved}})],1)],2)],1):t._e()],t.popups.dispatchCampaign.visible?a("dispatch-campaign",{staticClass:"c-campaigns-editor__popup",attrs:{"campaign-id":t.popups.dispatchCampaign.campaignId,type:t.popups.dispatchCampaign.type},on:{close:function(e){t.popups.dispatchCampaign.visible=!1},onDomainNotConfigured:function(e){t.popups.configureEmailDomain.visible=!0}}}):t._e(),t.popups.configureEmailDomain.visible?a("configure-email-domain"):t._e(),t.popups.manageTemplates.visible?a("manage-templates",{staticClass:"c-campaigns-editor__popup",on:{close:function(e){t.popups.manageTemplates.visible=!1}}}):t._e()],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-tooltip",{attrs:{direction:"middle",align:"right"}},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_TOO_COMPLEX")))])}];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},2522:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaigns-index o-layout o-layout--flex"},[a("secondary-menu",{staticClass:"c-campaigns-index__menu js-menu",attrs:{lists:t.lists,locked:t.loading}}),a("div",{staticClass:"c-campaigns-index__container o-layout__columns o-table"},[a("base-header",{staticClass:"c-campaigns-index__header",attrs:{"search-loading":t.searching,"search-disabled":t.loading&&!t.searching,"search-value":t.query.search_name,title:t.title,icon:"email",search:""},on:{search:t.onSearch}},[a("base-button",{staticClass:"c-campaigns-index__action c-campaigns-index__action--minimized",attrs:{slot:"buttons",color:"black",id:"new_campaign","left-icon":"add_circle",size:"small"},on:{click:function(e){t.onDisplayPopup("newCampaign",!0)}},slot:"buttons"},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.NEW_CAMPAIGN")))]),a("base-button",{staticClass:"c-campaigns-index__action",attrs:{slot:"buttons",items:t.buttonItems,color:"white","left-icon":"add_circle",size:"small"},on:{itemClick:t.onItemClick},slot:"buttons"},[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.CONTROLS_ACTIONS")))])],1),a("common-table",{staticClass:"c-campaigns-index__table",attrs:{"data-by-section":t.campaignsByType,fields:t.table.fields,initialized:t.initialized,"key-field":"campaign_id"},scopedSlots:t._u([{key:"section-item",fn:function(t){var e=t.sectionItem;return[a("campaign-table-section",{attrs:{section:e}})]}},{key:"item",fn:function(e){var i=e.item;e.index;return[a("campaign-table-item",{attrs:{active:-1!==t.selectedRows.indexOf(i.campaign_id),campaign:i},on:{check:t.onCheckboxChange,dispatch:t.onDispatchConfirm,configure:t.onConfigure}})]}}])},[t.page>=1?a("template",{slot:"infinite-loading"},[a("infinite-loading",{staticClass:"o-table__infinite",on:{infinite:t.onLoadMoreCampaigns}},[a("base-spinner",{staticClass:"o-table__spinner",attrs:{slot:"spinner",size:"18px","border-width":"2px"},slot:"spinner"})],1)],1):t._e(),a("base-empty-spot",{attrs:{slot:"empty",description:t.emptySpotDescription,title:t.emptySpotTitle,illustration:"opened_email"},slot:"empty"},[t.query.search_name?t._e():a("base-button",{attrs:{slot:"buttons","left-icon":"add_circle"},on:{click:function(e){t.onDisplayPopup("newCampaign",!0)}},slot:"buttons"},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.NEW_CAMPAIGN")))])],1)],2)],1),["app.website.campaigns.configure","app.website.campaigns.recipients","app.website.campaigns.flow","app.website.campaigns.templates","app.website.campaigns.editor","app.website.campaigns.analytics"].includes(t.$route.name)?a("div",{staticClass:"c-campaigns-index__configure"},[a("div",{staticClass:"c-campaigns-index__configure-inner"},[a("router-view",{on:{exit:t.onExitCampaign}})],1)]):t._e(),t.popups.dispatchCampaign.visible?a("dispatch-campaign",{attrs:{"campaign-id":t.popups.dispatchCampaign.campaignId,type:t.popups.dispatchCampaign.type},on:{close:function(e){t.popups.dispatchCampaign.visible=!1},onDomainNotConfigured:function(e){t.popups.configureEmailDomain.visible=!0}}}):t._e(),t.popups.newCampaign.visible?a("new-campaign",{on:{close:function(e){t.onDisplayPopup("newCampaign",!1)}}}):t._e(),t.popups.configureEmailDomain.visible?a("configure-email-domain"):t._e(),t.popups.removeCampaigns.visible?a("remove-campaigns",{on:{close:function(e){t.onDisplayPopup("removeCampaigns",!1)},remove:t.onRemoveCampaigns}}):t._e()],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"276b":function(t,e,a){"use strict";a.r(e);var i=a("a1ab"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"2a02":function(t,e,a){"use strict";a.r(e);var i=a("d7c0"),n=a("276b");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("314f");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"2a12":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaign-template"},[a("iframe",{staticClass:"c-campaign-template__iframe js-iframe",attrs:{scrolling:t.scrolling,frameBorder:"0",sandbox:"allow-same-origin"}}),t.hasDetails?a("div",{staticClass:"c-campaign-template__details"},[a("span",{staticClass:"c-campaign-template__identity"},[a("span",{staticClass:"c-campaign-template__name u-ellipsis"},[t._v(t._s(t.name))]),t.formatLabelText?a("base-tag",{staticClass:"c-campaign-template__label",attrs:{truncated:!1,label:t.formatLabelText,color:t.formatLabelColor,size:"mini",filled:""}}):t._e()],1),a("base-button",{attrs:{loading:t.loading,color:t.actionColor,reverse:t.actionReverse,"left-icon":"book",size:"small"},on:{click:t.onClick}},[t._v(t._s(t.$t("CAMPAIGNS.TEMPLATES.TEMPLATE_ACTION")))])],1):t._e()])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"2a932":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{on:{close:function(e){t.$emit("close")},enter:t.onRemoveCampaigns}},[a("base-headlines",{staticClass:"u-mb20",attrs:{title:t.$t("CAMPAIGNS.DEFAULT.MODALS_REMOVE_CAMPAIGNS_TITLE"),description:t.$t("CAMPAIGNS.DEFAULT.MODALS_REMOVE_CAMPAIGNS_NOTICE")}}),a("base-button",{attrs:{slot:"actions",color:"black",reverse:""},on:{click:function(e){t.$emit("close")}},slot:"actions"},[t._v(t._s(t.$t("BUTTONS.CANCEL")))]),a("base-button",{attrs:{slot:"actions",loading:t.loading,color:"red","left-icon":"delete"},on:{click:t.onRemoveCampaigns},slot:"actions"},[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.MODALS_REMOVE_CAMPAIGNS_PROCEED")))])],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"2ae2":function(t,e,a){"use strict";a.r(e);var i=a("5e02"),n=a("6ab3");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"2f98":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaigns-recipients{width:100%}.c-campaigns-recipients,.c-campaigns-recipients .c-campaigns-recipients__box{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-recipients .c-campaigns-recipients__box{margin-bottom:0;padding:0}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__footer,.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner{padding-right:40px;padding-left:40px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:24px;padding-bottom:22px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__cards{display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__cards .c-campaigns-recipients__card{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:18px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__cards .c-campaigns-recipients__card:last-of-type{margin-right:0}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:15px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters{overflow-y:auto;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:30px;width:220px;border:1px solid #e3e8ef;background-color:#fafbfc;padding-bottom:10px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter{padding:12px;border-bottom:1px solid #e3e8ef;border-left:3px solid #fafbfc;font-size:14px;cursor:pointer}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter:hover:not(.c-campaigns-recipients__filter--active){background-color:#f7f8fa;border-left-color:#f7f8fa}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter:active:not(.c-campaigns-recipients__filter--active){background-color:#f4f6f8;border-left-color:#f4f6f8}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter--active{border-left-color:#0093ee;background-color:#fff;font-weight:700}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__box{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__box .c-segmentation-box__container{overflow-x:hidden;overflow-y:auto}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__items-selector{overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type--locked{pointer-events:none}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__targets{color:#75869c;font-weight:700;font-size:14px}.c-campaigns-recipients--segment .c-campaigns-recipients__box .c-campaigns-recipients__type .c-campaigns-recipients__items-selector .c-items-selector__items{min-height:302px}",""]),t.exports=e},"314f":function(t,e,a){"use strict";var i=a("f809"),n=a.n(i);n.a},"31f8":function(t,e,a){var i=a("49aa");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("b74db458",i,!0,{sourceMap:!1,shadowMode:!1})},"372e":function(t,e,a){var i=a("1c54");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("6c375fc2",i,!0,{sourceMap:!1,shadowMode:!1})},"3ba0":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaigns-editor{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.c-campaigns-editor .c-campaigns-editor__box{overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor{height:100%;border:none;border-radius:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__name{-webkit-transition:all .1s linear;transition:all .1s linear}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__name:hover{background-color:#fafbfc}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:15px;height:24px;border-left:1px solid #e3e8ef;cursor:pointer}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section:first-of-type{padding-left:0;border-left:none}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__icon{margin-right:4px;fill:#2c405a;-webkit-transition:fill .1s linear;transition:fill .1s linear}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__label{margin-right:10px;color:#1c293b;font-weight:700;-webkit-transition:color .1s linear;transition:color .1s linear}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__field{margin-right:12px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__field:last-of-type{margin-right:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__field .c-field-checkbox__information{margin-top:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__sender{width:150px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__button{margin-right:10px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates .c-campaigns-editor__label,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__button:last-of-type{margin-right:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates:hover .c-campaigns-editor__icon{fill:#0093ee}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates:hover .c-campaigns-editor__label{color:#0093ee}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients{cursor:default}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__recipients-help{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:5px;margin-right:8px;height:18px;cursor:help}.c-campaigns-editor .c-campaigns-editor__popup{z-index:1010}.c-campaigns-editor .c-campaigns-editor__recipients-help .c-campaigns-editor__recipients-help-icon{margin-top:.5px;fill:#2c405a}.c-campaigns-editor .c-campaigns-editor__recipients-help .c-campaigns-editor__recipients-help-icon:hover{fill:#000}@media (max-width:75em){.c-campaigns-editor .c-campaigns-editor__actions .c-campaign-actions__action--collapsable .c-base-button__label{display:none}}@media (max-width:71.25em){.c-campaigns-editor .c-campaigns-editor__controls[data-id=code]{display:none}}@media (max-width:65em){.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-help,.c-campaigns-editor .c-campaigns-editor__controls[data-id=list]{display:none}}@media (max-width:61.25em){.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates{display:none}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--tracking{padding-left:0;border-left:none}.c-campaigns-editor .c-campaigns-editor__actions .c-campaign-actions__action .c-base-button__label,.c-campaigns-editor .c-campaigns-editor__controls[data-id=insert]{display:none}}@media (max-width:48.75em){.c-campaigns-editor .c-campaigns-editor__controls[data-id=title]{display:none}}@media (max-width:81.25em){.c-campaigns-editor .c-campaigns-editor__controls[data-id=align]{display:none}}",""]),t.exports=e},"3f05":function(t,e,a){"use strict";a.r(e);var i=a("43ae"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"3f709":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaigns-analytics{overflow:hidden;width:100%}.c-campaigns-analytics,.c-campaigns-analytics .c-campaigns-analytics__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-analytics .c-campaigns-analytics__box{margin-bottom:0;padding-bottom:0}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__cards{display:grid;grid-gap:20px;grid-template-columns:repeat(2,220px);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:20px;border:1px solid #e3e8ef;border-bottom:none;background-color:#fff}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;border:1px solid rgba(168,198,223,.6);-webkit-box-shadow:0 3px 4px 0 rgba(117,134,156,.1);box-shadow:0 3px 4px 0 rgba(117,134,156,.1)}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr{color:#1c293b;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__td{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__unknown{color:#75869c;font-weight:400}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__avatar-wrapper{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:0}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__avatar{display:inline-block}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__nickname{display:inherit;font-weight:700;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__email{display:inherit;color:#75869c;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location .c-campaigns-analytics__city{font-weight:700;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location .c-campaigns-analytics__country{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#75869c;font-size:13px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location .c-campaigns-analytics__country .c-campaigns-analytics__flag{margin-top:-1px;margin-right:8px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__date .c-campaigns-analytics__since{color:#75869c;font-weight:400;font-size:13px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__actions{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr:hover .c-campaigns-analytics__actions{opacity:1}@media (max-width:67.5em){.c-campaigns-analytics .c-campaigns-analytics__action .c-base-button__label{display:none}}@media (max-width:48.75em){.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__cards{grid-template-columns:repeat(2,1fr)}}",""]),t.exports=e},"420f":function(t,e,a){"use strict";a.r(e);var i=a("efca"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"43ae":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),n=u(a("6a84")),s=u(a("d9f5")),c=u(a("b521")),o=u(a("8b30")),r=u(a("a3ce")),l=u(a("00568")),p=u(a("8b9c")),m=u(a("f49dd")),d=u(a("2ae2")),_=u(a("096a")),g=u(a("c4f6"));function u(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={components:{CampaignTableItem:s.default,CampaignTableSection:c.default,ConfigureEmailDomain:d.default,CommonTable:o.default,DispatchCampaign:l.default,NewCampaign:p.default,RemoveCampaigns:m.default,SecondaryMenu:r.default},mixins:[g.default],data(){return{websiteId:this.$route.params.websiteId,lastFilter:"",initialized:!1,page:1,loading:!1,searching:!1,selectedRows:[],query:{},popups:{dispatchCampaign:{campaignId:null,type:null,visible:!1},newCampaign:{visible:!1},configureEmailDomain:{visible:!1},removeCampaigns:{visible:!1}},lists:[{title:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_TITLE"),items:[{id:"all",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_ALL"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"all"}}},{id:"automated",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_AUTOMATED"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"automated"}}},{id:"one_shot",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_ONE_SHOT"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"one-shot"}}}]},{title:this.$t("CAMPAIGNS.DEFAULT.FILTERS_STATUS_TITLE"),items:[{id:"sending",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_STATUS_SENDING"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"sending"}}},{id:"ready",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_STATUS_READY"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"ready"}}},{id:"paused",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_STATUS_PAUSED"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"paused"}}},{id:"not_configured",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_STATUS_NOT_CONFIGURED"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"not-configured"}}},{id:"done",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_STATUS_DONE"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filter:"done"}}}]}],table:{fields:[{id:"checkbox",alignment:"center",noPadding:!0,width:"65px"},{id:"name",noPaddingLeft:!0,title:this.$t("CAMPAIGNS.DEFAULT.HEAD_CAMPAIGN_NAME"),minWidth:"100px",width:"19%"},{id:"status",alignment:"center",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_STATUS"),minWidth:"100px",width:"15%"},{id:"statistics",alignment:"center",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_CONTACTS"),minWidth:"100px",width:"18%"},{id:"updated_at",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_LAST_UPDATE"),minWidth:"100px",width:"13%"},{id:"progress",minWidth:"100px",width:"12%"},{id:"actions",alignment:"right",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_ACTIONS"),minWidth:"100px",width:"23%"}]}}},computed:b({buttonItems(){return[{disabled:0===this.selectedRows.length,icon:"close",id:"remove_selected_campaigns",label:this.$t("CAMPAIGNS.DEFAULT.CONTROLS_ACTIONS_REMOVE"),red:!0}]},campaignsByType(){var t={},e=[{id:"automated",icon:"rocket",name:this.$t("CAMPAIGNS.DEFAULT.ROW_SECTION_AUTOMATED")},{id:"one-shot",icon:"email",name:this.$t("CAMPAIGNS.DEFAULT.ROW_SECTION_ONE_SHOT")}];e.forEach(e=>{t[e.id]={display:!0,section:{icon:e.icon,name:e.name},data:[]}}),this.campaigns.forEach(e=>{t[e.type].data.push(e)}),e.forEach(e=>{t[e.id].display=t[e.id].data.length>0});var a=e.every(e=>0===t[e.id].data.length);return a?null:t},emptySpotDescription(){return this.query.search_name?this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_SEARCH_LABEL"):this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_DEFAULT_LABEL")},emptySpotTitle(){return this.query.search_name?this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_SEARCH_TITLE"):this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_DEFAULT_TITLE")},title(){var t="";return this.total&&(this.selectedRows.length>0&&(t+="".concat(this.selectedRows.length," / ")),t+="".concat(this.total," ")),t+=this.$t("CAMPAIGNS.DEFAULT.CONTROLS_NAME"),t},total(){return this.campaigns.length}},(0,i.mapState)("campaigns",["campaigns"])),watch:{$route:{immediate:!0,handler(t,e){void 0!==e&&this.lastFilter===t.params.filter||(this.lastFilter=t.params.filter,this.selectedRows=[],this.buildQuery(),this.loadCampaigns())}}},methods:{buildQuery(){switch(_.default.emptyMap(this.query),this.$route.params.filter){case"automated":this.query.filter_type_automated=1;break;case"one-shot":this.query.filter_type_one_shot=1;break;case"not-configured":this.query.filter_status_not_configured=1;break;case"ready":this.query.filter_status_ready=1;break;case"paused":this.query.filter_status_paused=1;break;case"sending":this.query.filter_status_sending=1;break;case"done":this.query.filter_status_done=1;break}this.$route.query.query&&(this.query.search_name=this.$route.query.query)},increasePageCount(t){this.page=t?null:this.page+1},loadCampaigns(t){return!0!==this.loading?(this.loading=!0,t||(this.initialized=!1,this.page=1),this.$store.dispatch("campaigns/addCampaigns",{query:this.query,page:this.page,websiteId:this.websiteId}).then(e=>(this.increasePageCount(e),this.loading=!1,e&&t?t.complete():t?t.loaded():this.initialized=!0,Promise.resolve()))):Promise.resolve()},onCheckboxChange(t,e){if(t)this.selectedRows.push(e);else{var a=this.selectedRows.findIndex(t=>t===e);this.selectedRows.splice(a,1)}},onDispatchConfirm(t,e){this.popups.dispatchCampaign.campaignId=t,this.popups.dispatchCampaign.type=e,this.popups.dispatchCampaign.visible=!0},onConfigure(t){this.$router.push({name:"app.website.campaigns.configure",params:{websiteId:this.websiteId,campaignId:t}})},onDisplayPopup(t,e){this.popups[t].visible=e},onExitCampaign(){this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filter:"all"}})},onItemClick(t){"remove_selected_campaigns"===t&&(this.popups.removeCampaigns.visible=!0)},onLoadMoreCampaigns(t){this.page?!this.loading&&this.page>1&&this.loadCampaigns(t):t.complete()},onRemoveCampaigns(t){this.$store.dispatch("campaigns/removeCampaigns",{websiteId:this.websiteId,campaignsIds:this.selectedRows}).then(()=>(this.selectedRows=[],this.popups.removeCampaigns.visible=!1,n.default.success("factory_datatable_item_deleted"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{t()})},onSearch(t){this.searching=!0,this.buildQuery(),this.query.search_name=t,t?this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filter:this.$route.params.filter},query:{query:t}}):this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filter:this.$route.params.filter}}),this.loadCampaigns().then(()=>(this.searching=!1,Promise.resolve()))}}};e.default=v},4444:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-dispatch-campaign .c-dispatch-campaign__error{padding:10px 18px;border:1px solid #e0102b;font-size:14.5px;border-radius:2px;background-color:#fafbfc;color:#e0102b;font-weight:700}.c-dispatch-campaign .c-dispatch-campaign__error a{text-decoration:underline}",""]),t.exports=e},4956:function(t,e,a){var i=a("d520");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("21bb06fc",i,!0,{sourceMap:!1,shadowMode:!1})},"49aa":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-contact-table-item{color:#000;font-size:14px}.c-contact-table-item .c-contact-table-item__unknown{color:#75869c;font-weight:400}.c-contact-table-item .c-contact-table-item__avatar,.c-contact-table-item .c-contact-table-item__checkbox{display:inline-block}.c-contact-table-item .c-contact-table-item__avatar{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.c-contact-table-item .c-contact-table-item__checkbox{width:18px;height:18px}.c-contact-table-item .c-contact-table-item__name{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__name .c-contact-table-item__nickname{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__name .c-contact-table-item__email{color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__city{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__country{position:relative;padding-left:25px;color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__country .c-contact-table-item__flag{position:absolute;left:0;margin-top:-1px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.c-contact-table-item .c-contact-table-item__company,.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details .c-contact-table-item__name{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details .c-contact-table-item__domain{color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__tag{float:left;margin:2px 3px 3px}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__tag:last-of-type{margin-right:0}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__more-segments{display:block;clear:both;margin-left:3px;color:#75869c;font-weight:700;font-size:12px;-webkit-transition:color .1s linear;transition:color .1s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__more-segments:hover{color:#2c405a;text-decoration:underline}.c-contact-table-item .c-contact-table-item__active{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__now{color:#40b630;font-weight:700}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__now .c-contact-table-item__availability{margin-right:5px}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__since{color:#75869c;font-weight:400;font-size:13px}.c-contact-table-item .c-contact-table-item__actions{opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-contact-table-item:hover .c-contact-table-item__actions{opacity:1}.c-contact-table-item .c-contact-table-item__opened{position:absolute;top:-1px;bottom:-1px;left:0;width:0;background-color:#2c405a;-webkit-transition:width .1s linear;transition:width .1s linear}.c-contact-table-item--opened .c-contact-table-item__opened{width:4px}@media (max-width:90.625em){.c-contact-table-item .c-contact-table-item__actions .c-contact-table-item__action .c-base-button__label{display:none}}",""]),t.exports=e},"4a1f":function(t,e,a){"use strict";a.r(e);var i=a("ee208"),n=a("ef48");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f9e0");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"4b9a":function(t,e,a){"use strict";a.r(e);var i=a("4ce0"),n=a("5877");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("cbbf");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"4ce0":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaigns-templates"},[a("div",{staticClass:"o-page__header o-page__header--with-breadcrumb"},[a("base-breadcrumb",{staticClass:"o-page__breadcrumb",attrs:{items:t.breadcrumb.items,title:t.$t("CAMPAIGNS.TEMPLATES.TITLE"),alignment:"center"},on:{click:t.onBreadcrumbItemClick}})],1),a("div",{staticClass:"c-campaigns-templates__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},[a("div",{staticClass:"c-campaigns-templates__inner"},[a("base-headlines",{attrs:{description:t.$t("CAMPAIGNS.TEMPLATES.BOX_DESCRIPTION"),title:t.$t("CAMPAIGNS.TEMPLATES.BOX_TITLE"),alignment:"center"}}),a("base-divider",{staticClass:"u-mt30 u-mb35"}),a("div",{staticClass:"c-campaigns-templates__templates"},[t._l(t.defaultTemplates,(function(e,i){return a("campaign-template",{key:i,attrs:{id:i,format:e.format,name:e.name,content:e.content,"action-color":"black","action-reverse":""},on:{click:t.onTemplateDefaultClick}})})),t._l(t.templates,(function(e){return a("campaign-template",{key:e.template_id,attrs:{id:e.template_id,format:e.format,name:e.name},on:{click:t.onTemplateRemoteClick}})}))],2)],1),a("base-navigation",{staticClass:"c-campaigns-templates__footer o-page__footer",attrs:{"has-divider":!1}},[a("template",{slot:"right"},[a("base-button",{attrs:{"right-icon":"chevron_right",color:"black",reverse:""},on:{click:t.onSkip}},[t._v(t._s(t.$t("CAMPAIGNS.TEMPLATES.USE_MARKDOWN")))])],1)],2)],1)])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"50f4":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("f7fe")),n=s(a("84dd"));function s(t){return t&&t.__esModule?t:{default:t}}var c=500,o={components:{ContactTableItem:n.default},props:{profiles:{type:Array,default:null},search:{type:Boolean,default:!0},searchLoading:{type:Boolean,default:!1},segments:{type:Array,default:null},selectAll:{type:Boolean,default:!1},selectedItems:{type:Object,default(){return[]}}},methods:{onSearchKeyUp:(0,i.default)((function(t,e){var a=this.$el.querySelector(".js-items-container");a&&(a.scrollTop=0),this.$emit("search",e)}),c),onToggleItem(t){this.selectedItems[t]?this.$emit("checked",!1,t):this.$emit("checked",!0,t)}}};e.default=o},"51bc":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.c-campaigns-templates{overflow:hidden;width:100%}.c-campaigns-templates,.c-campaigns-templates .c-campaigns-templates__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-templates .c-campaigns-templates__box{overflow-y:hidden;margin-bottom:0}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__footer,.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner{padding-right:40px;padding-left:40px}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner{overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:24px}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner:after{display:block;height:40px;content:""}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner .c-campaigns-templates__templates{display:grid;grid-gap:20px 34px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-template-rows:repeat(auto-fill,250px)}',""]),t.exports=e},"54ec":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{websiteId:{type:String,required:!0},active:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},contact:{type:Object,required:!0},index:{type:Number,required:!0}},data(){return{maxTags:4,actionLoading:!1}},methods:{onCheckboxChange(t,e){this.$emit("checked",t,e)},onGoToProfile(){this.$router.push({name:"app.website.contacts.profile",params:{websiteId:this.websiteId,peopleId:this.contact.people_id}})}}};e.default=i},5512:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),n=l(a("cd3f")),s=l(a("1ab9")),c=l(a("8508")),o=l(a("e697")),r=l(a("d22d"));function l(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={components:{ItemsSelector:s.default,SegmentationBox:c.default},mixins:[o.default,r.default],data(){return{activeBreadcrumbItem:"app.website.campaigns.recipients",activeFilter:null,loading:!1,cards:[{id:"all",illustration:"world",title:this.$t("CAMPAIGNS.EDIT.PICKER_ALL")},{id:"people",illustration:"people",title:this.$t("CAMPAIGNS.EDIT.PICKER_PEOPLE")},{id:"filter",illustration:"progressive_blocks",title:this.$t("CAMPAIGNS.EDIT.PICKER_FILTER")},{id:"segment",illustration:"users",title:this.$t("CAMPAIGNS.EDIT.PICKER_SEGMENT")}]}},computed:m({filter:{get(){return this.campaign&&this.campaign.recipients&&this.campaign.recipients.filter?this.campaign.recipients.filter:[]},set(t){this.activeFilter=null,this.$store.commit("campaigns/updateCampaignRecipientsFilter",{campaignId:this.campaignId,filter:t})}},filters(){var t={websiteId:this.websiteId,type:"people"};return this.$store.commit("filters/assertFilters",t),this.$store.getters["filters/getFilters"](t)},isValid(){if(this.campaign&&this.campaign.recipients){if("all"===this.campaign.recipients.type)return!0;if("people"===this.campaign.recipients.type)return(this.campaign.recipients.people||[]).length>0;if("segment"===this.campaign.recipients.type)return(this.campaign.recipients.segments||[]).length>0;if("filter"===this.campaign.recipients.type)return(this.campaign.recipients.filter||[]).length>0}return!1},segments:{get(){var t={websiteId:this.websiteId,type:"people"};return this.$store.commit("segments/assertSegments",t),this.$store.getters["segments/getSegments"](t)}},selectedItems(){var t={};return this.campaign&&this.campaign.recipients&&(["all","people"].includes(this.campaign.recipients.type)&&this.campaign.recipients.people?this.campaign.recipients.people.forEach(e=>{t[e]=!0}):"segment"===this.campaign.recipients.type&&this.campaign.recipients.segments&&this.campaign.recipients.segments.forEach(e=>{t[e]=!0})),t},type(){return this.campaign&&this.campaign.recipients&&this.campaign.recipients.type?this.campaign.recipients.type:null}},(0,i.mapState)("contacts",["profiles"])),watch:{campaign:{immediate:!0,handler(t){t&&t.recipients&&!t.recipients.type&&this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"recipients",key:"type",value:"all"})}}},created(){this.loadContacts(),this.$store.dispatch("filters/acquireFilters",{websiteId:this.websiteId,type:"people"}),this.$store.dispatch("segments/acquireSegments",{websiteId:this.websiteId,type:"people"})},mounted(){this.$emit("receiver-close-request",null)},methods:{clearFilter(){this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:"filter",items:[]})},clearPeople(){this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:"people",items:[]})},clearSegments(){this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:"segments",items:[]})},onFilterClick(t){this.activeFilter=t.filter_id,this.$store.commit("campaigns/updateCampaignRecipientsFilter",{campaignId:this.campaignId,filter:(0,n.default)(t.filter)})},onItemChecked(t,e){var a;switch("all"===this.type&&this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"recipients",key:"type",value:"people"}),this.type){case"all":a="people";break;case"segment":a="segments";break;default:a=this.type}this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:a,items:[e]})},onSaveRecipients(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,campaignPartial:{recipients:this.campaign.recipients}}).then(()=>this.$store.dispatch("campaigns/fetchCampaign",{websiteId:this.websiteId,campaignId:this.campaignId})).then(()=>(this.loading=!1,this.$router.push({name:"app.website.campaigns.templates",params:{websiteId:this.websiteId,campaignId:this.campaignId}}),Promise.resolve())).catch(()=>{this.loading=!1}))},onSwitchType(t){t!==this.type&&(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"recipients",key:"type",value:t}),["all","people"].includes(t)&&this.clearPeople())}}};e.default=_},5877:function(t,e,a){"use strict";a.r(e);var i=a("01f7"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"59d5":function(t,e,a){var i=a("6062");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("d86d83da",i,!0,{sourceMap:!1,shadowMode:!1})},"59fc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"c-manage-templates",attrs:{size:"medium",alignment:"center"},on:{close:function(e){t.$emit("close")}}},[a("base-headlines",{staticClass:"u-mb20",attrs:{title:t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_QUESTION"),description:t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_LABEL"),alignment:"center"}}),a("validation-observer",{ref:"form",staticClass:"c-manage-templates__save",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[a("field-input",{staticClass:"c-manage-templates__field",attrs:{disabled:t.loading,label:t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_SAVE_TITLE"),placeholder:t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_SAVE_PLACEHOLDER"),"rules-name":t.$t("VALIDATION.FIELDS.NAME"),name:"name",rules:"required",size:"medium"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("base-button",{staticClass:"c-manage-templates__button",attrs:{disabled:t.loading||i},on:{click:t.onCreateTemplate}},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_SAVE_CREATE")))])]}}])}),t.templates.length>0?a("div",{class:["c-manage-templates__templates",{"c-manage-templates__templates--locked":t.loading}]},[a("div",{staticClass:"c-manage-templates__label"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_LIST_TITLE")))]),t._l(t.templates,(function(e){return a("div",{key:e.template_id,staticClass:"c-manage-templates__template",on:{click:function(a){t.onInsertTemplate(e)}}},[a("div",{staticClass:"c-manage-templates__name"},[t._v(t._s(e.name))]),a("base-icon",{staticClass:"c-manage-templates__remove",attrs:{id:e.template_id,name:"clear",size:"20px"},on:{click:t.onRemoveTemplate}})],1)}))],2):t._e(),a("base-button",{attrs:{slot:"actions",color:"black",reverse:""},on:{click:function(e){t.$emit("close")}},slot:"actions"},[t._v(t._s(t.$t("BUTTONS.CANCEL")))]),a("base-button",{attrs:{slot:"actions",loading:t.loading,"left-icon":"check_circle"},on:{click:function(e){t.$emit("close")}},slot:"actions"},[t._v(t._s(t.$t("CAMPAIGNS.EDIT.MODALS_MANAGE_TEMPLATES_PROCEED")))])],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"5ce4":function(t,e,a){var i=a("9bdb");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("1462135a",i,!0,{sourceMap:!1,shadowMode:!1})},"5e02":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{attrs:{size:"medium"},on:{enter:t.onConfigureEmailDomain}},[a("base-headlines",{staticClass:"u-mb20",attrs:{title:t.$t("CAMPAIGNS.DEFAULT.MODALS_CUSTOM_DOMAIN_TITLE"),description:t.$t("CAMPAIGNS.DEFAULT.MODALS_CUSTOM_DOMAIN_NOTICE")}}),a("base-button",{attrs:{slot:"actions",loading:t.loading,color:"green","left-icon":"settings"},on:{click:t.onConfigureEmailDomain},slot:"actions"},[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.MODALS_CUSTOM_DOMAIN_PROCEED")))])],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},6062:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.c-manage-templates .c-manage-templates__save,.c-manage-templates .c-manage-templates__templates{padding:10px 20px 0;border:1px solid #e3e8ef;border-radius:2px;background-color:#fafbfc}.c-manage-templates .c-manage-templates__save{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;margin-bottom:15px;padding-bottom:10px}.c-manage-templates .c-manage-templates__save .c-manage-templates__button{-ms-flex-item-align:start;align-self:flex-start;margin-top:30px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-bottom:2px;margin-left:10px}.c-manage-templates .c-manage-templates__templates{overflow-x:hidden;overflow-y:auto;padding-top:14px;max-height:160px;text-align:left}.c-manage-templates .c-manage-templates__templates:after{content:"";height:14px;display:block}.c-manage-templates .c-manage-templates__templates .c-manage-templates__label{color:#1c293b;margin-bottom:10px;font-weight:700;font-size:15px}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template{display:-webkit-box;display:-ms-flexbox;display:flex;padding:8px 10px;border-left:3px solid transparent;-webkit-transition:background-color .1s linear;transition:background-color .1s linear;cursor:pointer}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__name{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#0093ee;font-weight:700;font-size:14px}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__remove{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:10px;fill:#e0102b;opacity:0;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__remove:hover{fill:#2c405a}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template:hover{border-left-color:#0093ee;background-color:#edf3fb}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template:hover .c-manage-templates__name{text-decoration:underline}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template:hover .c-manage-templates__remove{opacity:1}.c-manage-templates .c-manage-templates__templates--locked{pointer-events:none}',""]),t.exports=e},"64c3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data(){return{loading:!1}},methods:{onRemoveCampaigns(){!0!==this.loading&&(this.loading=!0,this.$emit("remove",()=>{this.loading=!0}))}}};e.default=i},6514:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaigns-flow"},[a("div",{staticClass:"o-page__header o-page__header--with-breadcrumb"},[a("base-breadcrumb",{staticClass:"o-page__breadcrumb",attrs:{items:t.breadcrumb.items,title:t.$t("CAMPAIGNS.FLOW.TITLE")}})],1),a("div",{staticClass:"c-campaigns-flow__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},[a("div",{staticClass:"c-campaigns-flow__inner"},[a("campaign-condition",{staticClass:"c-campaigns-flow__condition",attrs:{locked:t.loading,title:t.$t("CAMPAIGNS.FLOW.PART_1_TITLE"),number:"1"}},[a("field-input",{staticClass:"c-campaigns-flow__field",attrs:{label:t.$t("CAMPAIGNS.FLOW.PART_1_FORM_FIELD_EVENT_LABEL"),placeholder:t.$t("CAMPAIGNS.FLOW.PART_1_FORM_FIELD_EVENT_PLACEHOLDER"),direction:"horizontal",name:"launchEvent"},model:{value:t.launchEvent,callback:function(e){t.launchEvent=e},expression:"launchEvent"}}),a("base-information",{staticClass:"c-campaigns-flow__information u-mt30"},[a("b",[t._v(t._s(t.$t("CAMPAIGNS.FLOW.PART_1_FORM_NOTICE_1")))]),a("span",[t._v(t._s(t.$t("CAMPAIGNS.FLOW.PART_1_FORM_NOTICE_2")))]),a("base-link",{staticClass:"c-campaigns-flow__link c-campaigns-flow__notice",attrs:{href:t.$CONFIG.CRISP_URL_HELP+"/en/article/1ht44u5/"}},[t._v(t._s(t.$t("CAMPAIGNS.FLOW.FORM_NOTICE_DOCS")))])],1)],1),a("campaign-condition",{staticClass:"c-campaigns-flow__condition",attrs:{disabled:!t.launchEvent,locked:t.loading,title:t.$t("CAMPAIGNS.FLOW.PART_2_TITLE"),number:"2"}},[a("field-input",{staticClass:"c-campaigns-flow__field",attrs:{label:t.$t("CAMPAIGNS.FLOW.PART_2_FORM_FIELD_DELAY_LABEL"),min:0,direction:"horizontal",name:"assertDelay",type:"number"},model:{value:t.assertDelay,callback:function(e){t.assertDelay=e},expression:"assertDelay"}}),a("segmentation-box",{staticClass:"c-campaigns-flow__segmentation",attrs:{center:0===t.assertFilter.length,"has-create":!1,"most-used":!1,theme:"light",type:"people",override:""},model:{value:t.assertFilter,callback:function(e){t.assertFilter=e},expression:"assertFilter"}}),a("base-information",{staticClass:"c-campaigns-flow__information u-mt30"},[a("span",[t._v(t._s(t.$t("CAMPAIGNS.FLOW.PART_2_FORM_NOTICE_1")))]),a("b",{staticClass:"c-campaigns-flow__notice"},[t._v(t._s(t.$t("CAMPAIGNS.FLOW.PART_2_FORM_NOTICE_2")))]),a("span",{staticClass:"c-campaigns-flow__notice"},[t._v(t._s(t.$t("CAMPAIGNS.FLOW.PART_2_FORM_NOTICE_3")))]),a("base-link",{staticClass:"c-campaigns-flow__link c-campaigns-flow__notice",attrs:{href:t.$CONFIG.CRISP_URL_HELP+"/en/article/1ht44u5/"}},[t._v(t._s(t.$t("CAMPAIGNS.FLOW.FORM_NOTICE_DOCS")))])],1)],1),a("campaign-condition",{staticClass:"c-campaigns-flow__condition",attrs:{disabled:!t.launchEvent,locked:t.loading,title:t.$t("CAMPAIGNS.FLOW.PART_3_TITLE"),number:"3"}},[a("field-toggle",{staticClass:"c-campaigns-flow__field",attrs:{label:t.$t("CAMPAIGNS.FLOW.PART_3_FORM_FIELD_ONCE_LABEL"),name:"deliverOnce",type:"number"},model:{value:t.deliverOnce,callback:function(e){t.deliverOnce=e},expression:"deliverOnce"}}),a("field-input",{staticClass:"c-campaigns-flow__field",attrs:{label:t.$t("CAMPAIGNS.FLOW.PART_3_FORM_FIELD_DELAY_LABEL"),max:44640,min:0,direction:"horizontal",name:"deliverDelay",type:"number"},model:{value:t.deliverDelay,callback:function(e){t.deliverDelay=e},expression:"deliverDelay"}})],1),a("campaign-condition",{staticClass:"c-campaigns-flow__condition",attrs:{disabled:!t.launchEvent,locked:t.loading,"show-arrow":!1,title:t.$t("CAMPAIGNS.FLOW.PART_4_TITLE"),success:""}})],1),a("base-navigation",{staticClass:"c-campaigns-flow__footer o-page__footer",attrs:{"has-divider":!1}},[a("template",{slot:"left"},[a("base-button",{attrs:{"left-icon":"chevron_left",reverse:""},on:{click:t.onBack}},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.BACK")))])],1),a("template",{slot:"right"},[a("base-button",{attrs:{disabled:!t.launchEvent,loading:t.loading,"right-icon":"chevron_right"},on:{click:t.onSaveFlow}},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.NEXT")))])],1)],2)],1)])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},6544:function(t,e,a){"use strict";var i=a("9704"),n=a.n(i);n.a},"6ab3":function(t,e,a){"use strict";a.r(e);var i=a("8f96"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6cac":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=g(a("cd3f")),n=g(a("f7fe")),s=g(a("5da1")),c=a("2f62"),o=g(a("bcbb")),r=g(a("aff1")),l=g(a("00568")),p=g(a("7dc4")),m=g(a("2ae2")),d=g(a("c4f6")),_=g(a("e697"));function g(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h=250,v=["format","message","name","options","sender"],x={components:{CampaignActions:o.default,CommonEditor:r.default,ConfigureEmailDomain:m.default,DispatchCampaign:l.default,ManageTemplates:p.default},mixins:[d.default,_.default],data(){return{activeBreadcrumbItem:"app.website.campaigns.editor",frozenCampaign:null,isCampaignEdited:!1,hideEditor:!1,mode:"code",popups:{dispatchCampaign:{campaignId:null,type:null,visible:!1},manageTemplates:{visible:!1},configureEmailDomain:{visible:!1}},targetsCount:"∞"}},computed:f({deliverToChatbox:{get(){return!!this.campaign.options&&this.campaign.options.deliver_to_chatbox},set(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_chatbox",value:t})}},deliverToEmail:{get(){return!!this.campaign.options&&this.campaign.options.deliver_to_email},set(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_email",value:t})}},editorControls(){var t=[{id:"format",items:["bold","italic","underline","insertColor"]},{id:"title",items:["titleLarge","titleMedium","titleSmall"]},{id:"list",items:["list"]},{id:"code",items:["code","blockquote"]},{id:"insert",items:["insertLink","insertImage","insertGif","insertVideo"]}];return"html"===this.campaign.format&&"preview"===this.mode&&t.push({id:"align",items:["alignLeft","alignCenter","alignRight","alignJustify"]}),t},isDisabled(){return"one-shot"===this.campaign.type&&this.campaign.dispatched},message:{get(){return this.campaign.message},set:(0,n.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:t})}),h)},name:{get(){return this.campaign.name},set:(0,n.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"name",value:t})}),h)},sender:{get(){return this.campaign.sender?this.campaign.sender.user_id:null},set:(0,n.default)((function(t){this.$store.commit("campaigns/updateCampaignSender",{campaignId:this.campaignId,userId:t})}),h)},senderOptions(){return Object.values(this.operators).map(t=>({avatarId:t.user_id,label:t.first_name+" "+t.last_name,value:t.user_id}))},tracking:{get(){return!!this.campaign.options&&this.campaign.options.tracking},set:(0,n.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"tracking",value:t})}),h)}},(0,c.mapState)("campaigns",["templates"]),{},(0,c.mapState)("operators",["operators"])),watch:{campaign:{immediate:!0,deep:!0,handler(t){if(t){if("one-shot"===t.type&&(t.recipients&&(t.recipients.people||t.recipients.segments||t.recipients.filter)&&(0!==(t.recipients.people||[]).length||"people"!==t.recipients.type||0!==(t.recipients.segments||[]).length||0!==(t.recipients.filter||[]).length)||this.$router.push({name:"app.website.campaigns.recipients",params:{websiteId:this.websiteId,campaignId:this.campaignId}})),null===this.frozenCampaign)this.frozenCampaign=(0,i.default)(t);else{for(var e=!1,a=0;a<v.length;a++){var n=v[a],c=t[n],o=this.frozenCampaign[n];if(!(0,s.default)(c,o)){e=!0;break}}this.isCampaignEdited=e}t.targets&&-1!==t.targets&&(this.targetsCount=t.targets)}}}},created(){this.fetchOperators()},mounted(){this.$emit("receiver-close-request",this.onExit)},methods:{fetchOperators(){0===Object.keys(this.operators).length&&this.$store.dispatch("operators/acquireOperators",this.websiteId)},onClearWidgets(){this.$refs.commonEditor&&this.$refs.commonEditor.clearWidgets(!0)},onCampaignSaved(){this.frozenCampaign=(0,i.default)(this.campaign),this.isCampaignEdited=!1},onChangeMode(t){this.mode=t},onDispatchConfirm(t,e){this.popups.dispatchCampaign.campaignId=t,this.popups.dispatchCampaign.type=e,this.popups.dispatchCampaign.visible=!0},onExit(){this.$emit("exit")},onManageTemplates(){this.popups.manageTemplates.visible=!0},onSend(){this.$router.push({name:"app.website.campaigns.analytics",params:{websiteId:this.websiteId,campaignId:this.campaignId}})},onToggleFormat(t){switch(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"format",value:t}),t){case"html":this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_email",value:!0}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_chatbox",value:!1}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:this.$CONFIG.CRISP_CAMPAIGNS_BASIS_HTML});break;case"markdown":this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:""});break}}}};e.default=x},"6f92":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-items-selector"},[t.search?a("field-input",{staticClass:"c-items-selector__search",attrs:{loading:t.searchLoading,placeholder:t.$t("CAMPAIGNS.EDIT.SEARCH_PLACEHOLDER_PEOPLE"),"left-icon":"search",name:"search",clear:""},on:{keyup:t.onSearchKeyUp}}):t._e(),t.profiles&&t.profiles.length>0?a("div",{staticClass:"c-items-selector__items js-items-container"},[a("div",{staticClass:"o-table__tbody"},[t._l(t.profiles,(function(e){return a("div",{key:e.profile_id,staticClass:"c-items-selector__item",on:{click:function(a){t.onToggleItem(e.people_id)}}},[a("field-checkbox",{staticClass:"c-items-selector__checkbox",attrs:{block:!1,name:e.people_id,value:t.selectedItems[e.people_id]||t.selectAll}}),a("base-avatar",{staticClass:"c-items-selector__avatar",attrs:{"avatar-url":e.person&&e.person.avatar}}),a("div",{staticClass:"c-items-selector__name"},[e.person&&e.person.nickname?a("span",{staticClass:"c-items-selector__nickname"},[t._v(t._s(e.person.nickname))]):t._e(),e.email?a("span",{staticClass:"c-items-selector__email"},[t._v(t._s(e.email))]):t._e()])],1)})),t._t("infinite-loading")],2)]):t._e(),t.segments&&t.segments.length>0?a("div",{staticClass:"c-items-selector__items js-items-container"},t._l(t.segments,(function(e){return a("div",{key:e.segment,staticClass:"c-items-selector__item",on:{click:function(a){t.onToggleItem(e.segment)}}},[a("field-checkbox",{staticClass:"c-items-selector__checkbox",attrs:{block:!1,name:e.segment,value:t.selectedItems[e.segment]}}),a("base-tag",{attrs:{label:e.segment,truncated:!1}})],1)}))):t._e()],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"71a6":function(t,e,a){"use strict";a.r(e);var i=a("5512"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},7400:function(t,e,a){var i=a("fbc5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("7dc8e802",i,!0,{sourceMap:!1,shadowMode:!1})},7768:function(t,e,a){"use strict";var i=a("7400"),n=a.n(i);n.a},"77e2":function(t,e,a){"use strict";a.r(e);var i=a("029c"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"7ab4":function(t,e,a){var i=a("c922f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("6b7c1542",i,!0,{sourceMap:!1,shadowMode:!1})},"7dc4":function(t,e,a){"use strict";a.r(e);var i=a("59fc"),n=a("c5264");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d5e2");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},8076:function(t,e,a){"use strict";var i=a("31f8"),n=a.n(i);n.a},8162:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("c068")),n=o(a("6a84")),s=o(a("227c")),c=o(a("4b79"));function o(t){return t&&t.__esModule?t:{default:t}}var r={components:{AuthSection:i.default,QuickTour:s.default},mixins:[c.default],data(){return{websiteId:this.$route.params.websiteId,name:"",type:"",loading:!1,sections:[{id:"one-shot",illustration:"yellow_letter",title:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICK_ONE_SHOT_TITLE"),description:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICK_ONE_SHOT_LABEL"),active:!1},{id:"automated",illustration:"purple_rocket",title:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICK_AUTOMATED_TITLE"),description:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICK_AUTOMATED_LABEL"),active:!1}],steps:[{id:"type",label:this.$t("POPUPS.NEW_CAMPAIGN.STEP_1")},{id:"name",label:this.$t("POPUPS.NEW_CAMPAIGN.STEP_2")}]}},methods:{onCreateCampaign(){!0!==this.loading&&2===this.currentPopup&&this.name&&(this.loading=!0,this.$store.dispatch("campaigns/createCampaign",{websiteId:this.websiteId,name:this.name,type:this.type}).then(t=>{n.default.success("campaigns_created"),this.$emit("close");var e="one-shot"===this.type?"app.website.campaigns.recipients":"app.website.campaigns.flow";this.$router.push({name:e,params:{websiteId:this.websiteId,campaignId:t.campaign_id}})}).catch(()=>{this.loading=!1}))},onNameKeyup(t,e,a){"Enter"===a.code&&this.onCreateCampaign()},onSectionClick(t){this.type=t,this.sections.forEach(e=>{e.active=e.id===t})}}};e.default=r},"81f37":function(t,e,a){var i=a("9702");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("6e26eeda",i,!0,{sourceMap:!1,shadowMode:!1})},"84dd":function(t,e,a){"use strict";a.r(e);var i=a("8faa"),n=a("20ef");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8076");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"85c1":function(t,e,a){"use strict";a.r(e);var i=a("2a12"),n=a("d6f81");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9a35");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},8823:function(t,e,a){"use strict";a.r(e);var i=a("e85f"),n=a("d225");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("7768");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"893a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaign-template{position:relative;overflow:hidden;height:250px;border:1px solid #e3e8ef;border-radius:2px;-webkit-box-shadow:0 2px 2px 0 rgba(117,134,156,.08);box-shadow:0 2px 2px 0 rgba(117,134,156,.08);-webkit-transition:border-color 75ms linear;transition:border-color 75ms linear}.c-campaign-template .c-campaign-template__iframe{width:200%;height:200%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.c-campaign-template .c-campaign-template__details{position:absolute;right:0;bottom:0;left:0;padding:9px 14px 11px;width:100%;border-top:1px solid #e3e8ef;background-color:rgba(250,251,252,.95);text-align:center}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity{position:relative;z-index:10;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:11px}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity .c-campaign-template__name{color:#1c293b;font-weight:700;font-size:14px;line-height:18px}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity .c-campaign-template__label{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-top:-1px;margin-left:9px}.c-campaign-template:hover{border-color:#c9d3e0}",""]),t.exports=e},"8b9c":function(t,e,a){"use strict";a.r(e);var i=a("9353"),n=a("a9c8");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("029d");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"8ccb":function(t,e,a){"use strict";a.r(e);var i=a("163c1"),n=a("71a6");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8fe9");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},"8e15":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaign-table-section o-table__tr"},[a("base-icon",{staticClass:"c-campaign-table-section__icon",attrs:{name:t.section.icon,size:"17px"}}),a("div",{staticClass:"c-campaign-table-section__name"},[t._v(t._s(t.section.name))])],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"8e17":function(t,e,a){"use strict";var i=a("e51a"),n=a.n(i);n.a},"8f96":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data(){return{websiteId:this.$route.params.websiteId,loading:!1}},methods:{onConfigureEmailDomain(){!0!==this.loading&&(this.loading=!0,this.$router.push({name:"app.settings.websites.one",params:{websiteId:this.websiteId,initializeCustomDomain:!0}}))}}};e.default=i},"8faa":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{class:["c-contact-table-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":t.active,"c-contact-table-item--opened":t.opened}],on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.onGoToProfile(e)}}},[a("span",{staticClass:"o-table__active"}),a("span",{staticClass:"c-contact-table-item__opened"}),a("div",{staticClass:"c-contact-table-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",style:{width:"65px"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("field-checkbox",{staticClass:"c-contact-table-item__custom c-contact-table-item__checkbox",attrs:{name:t.contact.people_id,size:"medium"},on:{change:t.onCheckboxChange,click:function(t){t.stopPropagation()}}})],1),a("div",{staticClass:"c-contact-table-item__td o-table__td o-table__td--no-padding",style:{width:"30px"}},[a("base-avatar",{staticClass:"c-contact-table-item__custom c-contact-table-item__avatar",attrs:{"avatar-url":t.contact.person&&t.contact.person.avatar,size:"small"}})],1),a("div",{staticClass:"c-contact-table-item__td o-table__td",style:{minWidth:"100px",width:"15%"}},[a("div",{staticClass:"c-contact-table-item__custom c-contact-table-item__name"},[t.contact.person&&t.contact.person.nickname?a("span",{staticClass:"c-contact-table-item__nickname u-ellipsis"},[t._v(t._s(t.contact.person.nickname))]):t._e(),t.contact.email?a("span",{staticClass:"c-contact-table-item__email u-ellipsis"},[t._v(t._s(t.contact.email))]):t._e()])]),a("div",{staticClass:"c-contact-table-item__td o-table__td",style:{minWidth:"100px",width:"15%"}},[a("div",{staticClass:"c-contact-table-item__custom c-contact-table-item__location"},[t.contact.person.geolocation&&t.contact.person.geolocation.city?a("span",{staticClass:"c-contact-table-item__city u-ellipsis"},[t._v(t._s(t.contact.person.geolocation.city))]):t._e(),t.contact.person.geolocation&&t.contact.person.geolocation.country?a("span",{staticClass:"c-contact-table-item__country u-ellipsis"},[a("base-flag",{staticClass:"c-contact-table-item__flag",attrs:{code:t.contact.person.geolocation.country,height:"12px",width:"17px"}}),t._v(t._s(t._f("isoCountry")(t.contact.person.geolocation.country)))],1):a("span",{directives:[{name:"t",rawName:"v-t",value:"CONTACTS.DEFAULT.ROW_UNKNOWN",expression:"'CONTACTS.DEFAULT.ROW_UNKNOWN'"}],staticClass:"c-contact-table-item__unknown u-ellipsis"})])]),a("div",{staticClass:"c-contact-table-item__td o-table__td",style:{minWidth:"100px",width:"10%"}},[a("div",{staticClass:"c-contact-table-item__custom c-contact-table-item__company u-has-tooltip"},[a("base-tooltip",{attrs:{direction:"middle",align:"left"}},[t._v(t._s(t.$t("TOOLTIPS.CONTACTS_DEFAULT_COMPANY")))]),t.contact.company&&t.contact.company.name?a("span",{staticClass:"c-contact-table-item__details"},[a("span",{staticClass:"c-contact-table-item__name u-ellipsis"},[t._v(t._s(t.contact.company.name))]),t.contact.person&&t.contact.person.employment&&t.contact.person.employment.domain?a("base-link",{staticClass:"c-contact-table-item__domain u-ellipsis",attrs:{href:"http://"+t.contact.person.employment.domain}},[t._v(t._s(t.contact.person.employment.domain))]):t._e()],1):a("span",{directives:[{name:"t",rawName:"v-t",value:"CONTACTS.DEFAULT.ROW_UNKNOWN",expression:"'CONTACTS.DEFAULT.ROW_UNKNOWN'"}],staticClass:"c-contact-table-item__unknown u-ellipsis"})],1)]),a("div",{staticClass:"c-contact-table-item__td o-table__td",style:{minWidth:"100px",width:"18%"}},[t.contact.segments&&t.contact.segments.length>0?a("div",{staticClass:"c-contact-table-item__custom c-contact-table-item__segments u-has-tooltip"},[a("base-tooltip",{attrs:{direction:"middle",align:"left"}},[t._v(t._s(t.$t("TOOLTIPS.CONTACTS_DEFAULT_SEGMENTS")))]),t._l(t.contact.segments,(function(e,i){return""!==e&&t.maxTags>i?a("base-tag",{key:e,staticClass:"c-contact-table-item__tag",attrs:{label:e}}):t._e()})),t.contact.segments.length>t.maxTags?a("span",{staticClass:"c-contact-table-item__more-segments",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.onGoToProfile(e)}}},[t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_MORE_SEGMENTS")))]):t._e(),a("span",{staticClass:"o-clear"})],2):a("div",{staticClass:"c-contact-table-item__unknown u-ellipsis"},[t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_NO_SEGMENTS")))])]),a("div",{staticClass:"c-contact-table-item__td o-table__td o-table__td--bold",style:{minWidth:"100px",width:"12%"}},[a("div",{staticClass:"c-contact-table-item__custom c-contact-table-item__active u-has-tooltip"},[a("base-tooltip",{attrs:{direction:"middle",align:"left"}},[t._v(t._s(t.$t("TOOLTIPS.CONTACTS_DEFAULT_ACTIVE")))]),t.contact.active.now?a("span",{staticClass:"c-contact-table-item__now u-ellipsis"},[a("base-availability",{staticClass:"c-contact-table-item__availability",attrs:{color:"green",size:"small"}}),t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_ACTIVE_ONLINE")))],1):t._e(),t.contact.active.now&&t.contact.active.last?a("span",{staticClass:"c-contact-table-item__since u-ellipsis"},[t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_ACTIVE_SINCE"))+" "+t._s(t._f("timeAgo")(t.contact.active.last)))]):t.contact.active.last?a("span",{staticClass:"c-contact-table-item__last u-ellipsis"},[t._v(t._s(t._f("timeAgo")(t.contact.active.last)))]):a("span",{staticClass:"c-contact-table-item__unknown u-ellipsis"},[t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")))])],1)]),a("div",{staticClass:"c-contact-table-item__td o-table__td o-table__td--center",style:{minWidth:"100px",width:"13%"}},[a("div",{staticClass:"c-contact-table-item__custom c-contact-table-item__score"},[a("base-rating",{attrs:{rating:t.contact.score||0,tooltip:t.$t("TOOLTIPS.CONTACTS_DEFAULT_SCORE"),"tooltip-direction":0!==t.index?"top":"bottom","tooltip-align":"left","tooltip-direction":"middle"}})],1)]),a("div",{staticClass:"c-contact-table-item__actions c-contact-table-item__td o-table__td o-table__td--right o-table__td--hidden",style:{minWidth:"100px",width:"14%"}},[a("base-button",{staticClass:"c-contact-table-item__action",attrs:{id:t.contact.people_id,loading:t.actionLoading,"left-icon":"open_in_new",size:"small"},on:{click:function(e){t.$emit("preview",t.contact.people_id,t.index)}}},[t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_PREVIEW")))])],1)])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},"8fe9":function(t,e,a){"use strict";var i=a("d9a6"),n=a.n(i);n.a},9353:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"c-new-campaign",attrs:{title:t.$t("POPUPS.NEW_CAMPAIGN.TITLE"),size:"medium",width:"650px",alignment:"center"},on:{close:t.onClose,enter:t.onCreateCampaign}},[a("quick-tour",{attrs:{slot:"quickTour",active:t.currentPopup,steps:t.steps},slot:"quickTour"}),1===t.currentPopup?[a("base-headlines",{staticClass:"u-mb20",attrs:{title:t.$t("POPUPS.NEW_CAMPAIGN.TYPE_TITLE"),description:t.$t("POPUPS.NEW_CAMPAIGN.TYPE_LABEL"),size:"big",alignment:"center"}}),a("div",{staticClass:"o-items u-mb40 u-mt40"},t._l(t.sections,(function(e){return a("auth-section",{key:e.id,staticClass:"c-new-campaign__section o-items__item o-items__item--flex",attrs:{active:e.active,description:e.description,id:e.id,illustration:e.illustration,title:e.title,"illustration-class":"c-new-campaign__illustration--"+e.id,alignment:"vertical",height:"normal"},on:{click:t.onSectionClick}})}))),a("div",{staticClass:"c-new-campaign__actions",attrs:{slot:"actions"},slot:"actions"},[a("base-button",{staticClass:"c-new-campaign__action",attrs:{disabled:!t.type,"right-icon":"chevron_right",size:"medium"},on:{click:t.onNext}},[t._v(t._s(t.$t("POPUPS.NEW_CAMPAIGN.TYPE_PROCEED")))])],1)]:2===t.currentPopup?[a("base-headlines",{staticClass:"u-mb20",attrs:{title:t.$t("POPUPS.NEW_CAMPAIGN.FORM_TITLE"),description:t.$t("POPUPS.NEW_CAMPAIGN.FORM_LABEL"),size:"big",alignment:"center"}}),a("validation-observer",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[a("field-input",{staticClass:"u-mb20",attrs:{disabled:t.loading,label:t.$t("POPUPS.NEW_CAMPAIGN.FORM_FIELD_NAME_LABEL"),placeholder:t.$t("POPUPS.NEW_CAMPAIGN.FORM_FIELD_NAME_PLACEHOLDER"),"rules-name":t.$t("VALIDATION.FIELDS.NAME"),name:"name",size:"medium",rules:"required",autofocus:""},on:{keyup:t.onNameKeyup},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("base-button",{attrs:{slot:"actions",disabled:i,loading:t.loading,"right-icon":"chevron_right",size:"medium"},on:{click:t.onCreateCampaign},slot:"actions"},[t._v(t._s(t.$t("POPUPS.NEW_CAMPAIGN.FORM_PROCEED")))])]}}])})]:t._e()],2)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},9405:function(t,e,a){"use strict";var i=function(){var t,e,a=this,i=a.$createElement,n=a._self._c||i;return n("div",{class:["c-auth-section","c-auth-section--"+a.alignment,"c-auth-section--"+a.height,(t={},t["c-auth-section--"+a.illustration]=a.illustration,t["c-auth-section--active"]=a.active,t)],on:{click:a.onClick}},[a.illustration?n("base-illustration",{class:["c-auth-section__illustration",(e={},e[a.illustrationClass]=a.illustrationClass,e)],attrs:{name:a.illustration}}):a._e(),n("div",{staticClass:"c-auth-section__content"},[n("h2",{staticClass:"c-auth-section__title u-bold"},[a._v(a._s(a.title))]),n("p",{staticClass:"c-auth-section__description"},[a._v(a._s(a.description))])])],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},9576:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("cd3f")),n=r(a("5da1")),s=r(a("6a84")),c=r(a("9ee9")),o=r(a("99b1"));function r(t){return t&&t.__esModule?t:{default:t}}var l=["message","options","sender"],p={props:{campaign:{type:Object,required:!0},isCampaignEdited:{type:Boolean,default:!1},format:{type:String,default:null,validator(t){return-1!==["html","markdown"].indexOf(t)}},isDirectory:{type:Boolean,default:!0},mode:{type:String,default:null,validator(t){return-1!==["code","preview"].indexOf(t)}}},data(){return{websiteId:this.$route.params.websiteId,lastSavedMessage:null,autosaveDelay:5e3,autosaveDefer:null,pendingActions:{save:!1,dispatch:!1,resume:!1,pause:!1,test:!1}}},computed:{visible(){return this.isDirectory||!this.mode||"preview"===this.mode||"markdown"===this.format||"html"===this.format},messageHasBeenModified(){return this.lastSavedMessage!==this.campaign.message},campaignWatchModel(){return(0,i.default)(this.campaign)}},watch:{campaignWatchModel:{deep:!0,handler(t,e){for(var a=!1,i={},s=0;s<l.length;s++){var c=l[s],o=e[c],r=t[c];if(!(0,n.default)(r,o)){a=!0,i[c]=r;break}}!0===a&&this.scheduleAutosave(i)}}},mounted(){this.scheduleAutosave()},created(){this.campaign.message&&(this.lastSavedMessage=this.campaign.message)},destroyed(){this.unscheduleAutosave()},methods:{actionCampaign(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return!1===this.pendingActions[t]?(this.pendingActions[t]=!0,this.$emit("clearWidgets"),Promise.resolve().then(()=>{if("save"===t){var e={type:this.campaign.type,format:this.campaign.format,name:this.campaign.name,sender:this.campaign.sender,message:this.campaign.message};return["recipients","flow","options"].forEach(t=>{this.campaign[t]&&(e[t]=this.campaign[t])}),o.default.saveCampaign(this.websiteId,this.campaign.campaign_id,e)}return o.default.actionCampaign(this.websiteId,this.campaign.campaign_id,t)}).then(()=>(null!==a&&a(),null!==e&&s.default.success(e),Promise.resolve())).catch(t=>(402===t.status?c.default.show({pluginName:"Campaigns",pluginUrn:"_internal:campaigns",plan:"unlimited"}):null!==i&&i(((t||{}).data||{}).reason||null),Promise.resolve())).then(()=>(null!==n&&n(),this.pendingActions[t]=!1,Promise.resolve()))):Promise.resolve()},refreshTargetCount(){return this.$store.dispatch("campaigns/refreshTargetCountCampaign",{websiteId:this.websiteId,campaignId:this.campaign.campaign_id})},autosaveCampaignMessage(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1===this.pendingActions.save&&this.campaign.message){this.pendingActions.save=!0,this.$emit("clearWidgets");var e=t;null===e&&(e={message:this.campaign.message}),this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:this.campaign.campaign_id,campaignPartial:e}).catch(()=>Promise.resolve()).then(()=>(this.pendingActions.save=!1,this.$emit("saved"),Promise.resolve()))}},scheduleAutosave(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.unscheduleAutosave(),!1===this.pendingActions.save&&this.campaign.message&&(this.autosaveDefer=setTimeout(()=>{this.autosaveDefer=null,this.autosaveCampaignMessage(t)},this.autosaveDelay))},unscheduleAutosave(){null!==this.autosaveDefer&&(clearTimeout(this.autosaveDefer),this.autosaveDefer=null)},onConfigure(t,e){this.$emit("configure",t,e)},onDispatch(t,e){this.$emit("clearWidgets"),this.$emit("dispatch",t,this.campaign.type,e)},onPause(t,e){e.preventDefault(),e.stopPropagation();var a="automated"===this.campaign.type?"campaigns_deactivated":"campaigns_paused";return this.actionCampaign("pause",a,()=>{this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,key:"running",value:!1})})},onResume(t,e){e.preventDefault(),e.stopPropagation();var a="automated"===this.campaign.type?"campaigns_activated":"campaigns_resumed",i=!0===this.campaign.dispatched&&"automated"===this.campaign.type;return this.actionCampaign("resume",!0!==i?a:null).then(()=>this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,key:"running",value:!0})).then(()=>i?this.actionCampaign("dispatch",a):Promise.resolve())},onSave(){var t=!0===this.campaign.dispatched&&!0===this.campaign.running&&"automated"===this.campaign.type;return this.actionCampaign("save","campaigns_saved").then(()=>this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,key:"ready",value:!0})).then(()=>this.refreshTargetCount(this.campaign)).then(()=>t?this.actionCampaign("dispatch","campaigns_saved"):Promise.resolve()).then(()=>(this.$emit("saved"),Promise.resolve()))},onShowAnalytics(t,e){e.preventDefault(),e.stopPropagation(),this.$router.push({name:"app.website.campaigns.analytics",params:{websiteId:this.websiteId,campaignId:t}})},onTest(){this.actionCampaign("test","campaigns_tested")}}};e.default=p},9685:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={props:{actionColor:{type:String,default:"blue",validator(t){return-1!==["black","blue"].indexOf(t)}},actionReverse:{type:Boolean,default:!1},content:{type:String,default:null},format:{type:String,required:!0,validator(t){return-1!==["markdown","html"].indexOf(t)}},hasDetails:{type:Boolean,default:!0},id:{type:String,default:null},name:{type:String,default:null},scrolling:{type:String,default:"no",validator(t){return-1!==["yes","no"].indexOf(t)}}},data(){return{loading:!1,websiteId:this.$route.params.websiteId}},computed:s({formatLabelText(){switch(this.format){case"html":return"HTML";case"markdown":return"MD";default:return null}},formatLabelColor(){switch(this.format){case"html":return"#7452d9";case"markdown":return"#327ced";default:return null}},templateContent(){if(this.content)return this.content;var t=this.templates.find(t=>t.template_id===this.id);return t&&t.content?t.content:""}},(0,i.mapState)("campaigns",["templates"])),mounted(){this.templateContent?this.setIframeContent(this.templateContent):this.$store.dispatch("campaigns/fetchTemplate",{websiteId:this.websiteId,templateId:this.id}).then(t=>{this.setIframeContent(t.content)})},methods:{setIframeContent(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t="markdown"===this.format?"<html><body>".concat(this.$options.filters.parseText(e),"</body></html>"):e;var a=this.$el.querySelector(".js-iframe").contentWindow.document;a.open(),a.write(t),a.close()},onClick(){!0!==this.loading&&(this.loading=!0,this.$emit("click",this.id,()=>{this.loading=!1}))}}};e.default=o},9702:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-new-campaign .c-new-campaign__section{padding-top:100px;position:relative}.c-new-campaign .c-new-campaign__illustration--automated,.c-new-campaign .c-new-campaign__illustration--one-shot{position:absolute}.c-new-campaign .c-new-campaign__illustration--one-shot{top:8px;height:60px;-webkit-transform:rotate(-16deg);transform:rotate(-16deg)}.c-new-campaign .c-new-campaign__illustration--automated{top:-32px;margin-left:-22px;height:126px;-webkit-transform:rotate(-40deg);transform:rotate(-40deg)}.c-new-campaign .c-new-campaign__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.c-new-campaign .c-new-campaign__actions .c-new-campaign__action{margin:0 auto}",""]),t.exports=e},9704:function(t,e,a){var i=a("3ba0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("564e0c60",i,!0,{sourceMap:!1,shadowMode:!1})},"9a35":function(t,e,a){"use strict";var i=a("ea3d"),n=a.n(i);n.a},"9b80":function(t,e,a){var i=a("9b90");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("7ecd319c",i,!0,{sourceMap:!1,shadowMode:!1})},"9b90":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaign-table-section{padding-right:30px;padding-left:65px;border-bottom:none!important}.c-campaign-table-section .c-campaign-table-section__icon{margin-right:6px;fill:#75869c}.c-campaign-table-section .c-campaign-table-section__name{color:#75869c;font-weight:700;font-size:14px}",""]),t.exports=e},"9bdb":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaigns-configure .c-campaigns-configure__container{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 60px;padding:0;width:calc(100% - 116px)}.c-campaigns-configure .c-campaigns-configure__container .c-campaigns-configure__box{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-configure .c-campaigns-configure__container .c-campaigns-configure__loading{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}",""]),t.exports=e},"9f9d":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaigns-index .c-campaigns-index__menu{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-campaigns-index .c-campaigns-index__container{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-index .c-campaigns-index__container .c-campaigns-index__header{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-campaigns-index .c-campaigns-index__configure{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1000}.c-campaigns-index .c-campaigns-index__configure .c-campaigns-index__configure-inner{position:relative;z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%}.c-campaigns-index .c-campaigns-index__configure .c-campaigns-index__configure-inner .o-page__box{border-radius:0}@media (max-width:75em){.c-campaigns-index .c-campaigns-index__menu{width:200px}.c-campaigns-index .c-campaigns-index__header .c-campaigns-index__action--minimized .c-base-button__label{display:none}.c-campaigns-index .c-campaigns-index__table .c-base-button{padding:10px}}@media (max-width:60em){.c-campaigns-index .c-campaigns-index__table .c-base-button{padding:6px;margin-right:4px}.c-campaigns-index .c-campaigns-index__table .c-base-button:last-of-type{margin-right:0}}@media (max-width:55em){.c-campaigns-index .c-campaigns-index__menu{width:170px}}",""]),t.exports=e},a1ab:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),n=r(a("8b30")),s=r(a("84dd")),c=r(a("e697")),o=r(a("1f75"));function r(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d={components:{CommonTable:n.default,ContactTableItem:s.default},mixins:[c.default,o.default],data(){return{initialized:!1,loading:!1,page:1,activeBreadcrumbItem:"app.website.campaigns.analytics",currentContactCard:"opened",pendingChatPeopleId:null,table:{fields:[{id:"avatar",minWidth:"60px"},{id:"name",title:this.$t("CAMPAIGNS.EDIT.STATISTICS_HEAD_FIRST_NAME"),minWidth:"140px",width:"25%"},{id:"email",title:this.$t("CONTACTS.DEFAULT.HEAD_EMAIL"),minWidth:"200px",width:"25%"},{id:"location",title:this.$t("CAMPAIGNS.EDIT.STATISTICS_HEAD_LOCATION"),minWidth:"120px",width:"20%"},{id:"date",title:this.$t("CAMPAIGNS.EDIT.STATISTICS_HEAD_DATE"),minWidth:"120px",width:"10%"},{id:"actions",alignment:"right",title:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS"),minWidth:"120px",width:"20%"}]}}},computed:p({cards(){if(this.campaign&&this.campaign.statistics){var t=this.campaign.statistics.clicked,e=this.campaign.statistics.opened,a=this.campaign.reached||0;return a>0&&(t>a||e>a)&&(a=0),[{id:"opened",title:this.$t("CAMPAIGNS.ANALYTICS.OPENED"),progressBar:{disabled:0===a,color:"blue",labelSecondary:e,progress:this.$options.filters.percent(e,a)}},{id:"clicked",title:this.$t("CAMPAIGNS.ANALYTICS.CLICKED"),progressBar:{disabled:0===a,color:"orange",labelSecondary:t,progress:this.$options.filters.percent(t,a)}}]}return[]}},(0,i.mapState)("campaigns",["profiles"])),mounted(){this.$emit("receiver-close-request",null),this.loadProfiles()},methods:{loadProfiles(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.loading||!0===e)return this.loading=!0,this.$store.dispatch("campaigns/fetchProfiles",{page:this.page,websiteId:this.websiteId,campaignId:this.campaignId,statsAction:this.currentContactCard}).then(e=>(this.initialized=!0,this.loading=!1,e?this.page=-1:this.page++,t&&(e?t.complete():t&&t.loaded()),Promise.resolve())).catch(()=>{this.loading=!1})},onCardClick(t){this.currentContactCard!==t&&(this.currentContactCard=t,this.page=1,this.initialized=!1,this.loadProfiles())},onMessageUserClick(t){this.pendingChatPeopleId||(this.pendingChatPeopleId=t,this.onChatWithProfile(t))},onLoadMoreProfiles(t){this.page>1?this.loadProfiles(t,!0):t&&t.complete()}}};e.default=d},a306a:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),n=s(a("6a84"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,name:"",loading:!1}},computed:o({campaign(){return this.campaigns.find(t=>t.campaign_id===this.campaignId)}},(0,i.mapState)("campaigns",["campaigns","templates"])),methods:{onCreateTemplate(){!0!==this.loading&&(this.name?(this.campaign.message||"").trim()?(this.loading=!0,this.$store.dispatch("campaigns/createTemplate",{websiteId:this.websiteId,template:{format:this.campaign.format,name:this.name}}).then(t=>this.$store.dispatch("campaigns/updateTemplate",{websiteId:this.websiteId,templateId:t.template_id,keysToUpdate:{content:this.campaign.message}})).then(()=>(n.default.success("campaigns_templates_create_done"),this.name="",this.$refs.form.reset(),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loading=!1})):n.default.warning("campaigns_templates_create_no_content"):n.default.warning("campaigns_templates_create_no_name"))},onInsertTemplate(t){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/fetchTemplate",{websiteId:this.websiteId,templateId:t.template_id}).then(t=>(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:t.content}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"format",value:t.format}),n.default.success("campaigns_templates_insert_done"),this.$emit("close"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loading=!1}))},onRemoveTemplate(t,e){!0!==this.loading&&(e.preventDefault(),e.stopPropagation(),this.loading=!0,this.$store.dispatch("campaigns/removeTemplate",{websiteId:this.websiteId,templateId:t}).then(()=>(n.default.success("campaigns_templates_delete_done"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loading=!1}))}}};e.default=l},a9c8:function(t,e,a){"use strict";a.r(e);var i=a("8162"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},ac9f:function(t,e,a){"use strict";a.r(e);var i=a("9576"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},b521:function(t,e,a){"use strict";a.r(e);var i=a("8e15"),n=a("19e3");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("0e05");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},bad7:function(t,e,a){var i=a("9f9d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("0571004c",i,!0,{sourceMap:!1,shadowMode:!1})},bcbb:function(t,e,a){"use strict";a.r(e);var i=a("c5e8"),n=a("ac9f");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("de33");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},c068:function(t,e,a){"use strict";a.r(e);var i=a("9405"),n=a("420f");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f32b");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},c3c0:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{class:["c-campaign-table-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":t.active}],on:{click:function(e){t.onConfigureCampaign(t.campaign.campaign_id,e)}}},[a("span",{staticClass:"o-table__active"}),a("div",{staticClass:"c-campaign-table-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",style:{width:"65px"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("field-checkbox",{staticClass:"c-campaign-table-item__custom c-campaign-table-item__checkbox",attrs:{name:t.campaign.campaign_id,size:"medium"},on:{change:t.onCheckboxChange,click:function(t){t.stopPropagation()}}})],1),a("div",{staticClass:"c-campaign-table-item__td c-campaign-table-item__headline o-table__td o-table__td--bold o-table__td--no-padding",style:{minWidth:"100px",width:"19%"}},[t.campaign.name?a("div",{staticClass:"c-campaign-table-item__name u-ellipsis"},[t._v(t._s(t.campaign.name))]):t._e()]),a("div",{staticClass:"c-campaign-table-item__status o-table__td o-table__td--center u-ellipsis",style:{minWidth:"100px",width:"15%"}},[t.campaign.ready?t._e():a("span",{staticClass:"c-campaign-table-item__not-configured"},[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_NOT_CONFIGURED")))]),!t.campaign.ready||t.campaign.dispatched||t.campaign.running||0!==t.campaign.progress?t._e():a("span",{staticClass:"c-campaign-table-item__ready"},[a("base-availability",{staticClass:"c-campaign-table-item__availability",attrs:{color:"green",size:"small"}}),"automated"!==t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_READY_SEND")))]):t._e(),"automated"===t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_READY_ACTIVATE")))]):t._e()],1),t.campaign.ready&&t.campaign.dispatched&&!t.campaign.running&&0===t.campaign.progress?a("span",{staticClass:"c-campaign-table-item__waiting"},[a("base-availability",{staticClass:"c-campaign-table-item__availability",attrs:{color:"orange",size:"small"}}),"automated"!==t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_WAITING")))]):t._e(),"automated"===t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_INACTIVE")))]):t._e()],1):t._e(),t.campaign.ready&&t.campaign.running?a("span",{staticClass:"c-campaign-table-item__running"},[a("base-availability",{staticClass:"c-campaign-table-item__availability",attrs:{color:"blue",size:"small"}}),"automated"!==t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_SENDING")))]):t._e(),"automated"===t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_ACTIVE")))]):t._e()],1):t._e(),t.campaign.ready&&!t.campaign.running&&t.campaign.progress<100&&t.campaign.progress>0?a("span",{staticClass:"c-campaign-table-item__paused"},[a("base-availability",{staticClass:"c-campaign-table-item__availability",attrs:{color:"orange",size:"small"}}),"automated"!==t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_PAUSED")))]):t._e(),"automated"===t.campaign.type?a("span",[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_INACTIVE")))]):t._e()],1):t._e(),t.campaign.ready&&!t.campaign.running&&t.campaign.progress>=100?a("span",{staticClass:"c-campaign-table-item__done"},[t._v(t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_DONE")))]):t._e()]),a("div",{staticClass:"c-campaign-table-item__statistics o-table__td o-table__td--center u-ellipsis",style:{minWidth:"100px",width:"18%"}},["automated"===t.campaign.type?a("base-badge",{attrs:{uppercase:!1,size:"mini",filled:""}},[t._v(t._s(t.campaign.reached&&t.campaign.reached>0?t.campaign.reached:0)+" "+t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_REACHED_LABEL")))]):a("base-badge",{attrs:{uppercase:!1,color:"grey",size:"mini",filled:""}},[t._v(t._s(t.campaign.targets&&t.campaign.targets>0?t.campaign.targets:0)+" "+t._s(t.$t("CAMPAIGNS.DEFAULT.ROW_RECIPIENTS_LABEL")))])],1),a("div",{staticClass:"c-campaign-table-item__date o-table__td",style:{minWidth:"100px",width:"13%"}},[a("span",{staticClass:"c-campaign-table-item__updated u-ellipsis"},[t._v(t._s(t._f("timeAgo")(t.campaign.updated_at)))]),a("span",{staticClass:"c-campaign-table-item__created u-ellipsis"},[t._v(t._s(t.$t("HELPDESK.DEFAULT.ROW_DATE_CREATED"))+" "+t._s(t._f("timeAgo")(t.campaign.created_at)))])]),a("div",{staticClass:"c-campaign-table-item__progress o-table__td",style:{minWidth:"100px",width:"12%"}},["one-shot"===t.campaign.type?a("base-progress",{attrs:{"label-main":t.campaign.progress+"%",progress:t.campaign.progress||0,color:"grey",direction:"horizontal"}}):t._e()],1),a("div",{staticClass:"c-campaign-table-item__actions o-table__td o-table__td--right",style:{minWidth:"100px",width:"23%"}},[a("campaign-actions",{attrs:{campaign:t.campaign},on:{configure:t.onConfigureCampaign,dispatch:t.onDispatchConfirm}})],1)])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},c4f6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("99b1"));function n(t){return t&&t.__esModule?t:{default:t}}var s={created(){this.bindEventHandlers()},methods:{bindEventHandlers(){i.default.bindHandlers(this.onCampaignDispatched,this.onCampaignProgress,this.onCampaignRunning)},onCampaignDispatched(t,e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:e,key:"dispatched",value:!0})},onCampaignProgress(t,e,a){this.$store.commit("campaigns/updateCampaignKey",{campaignId:e,key:"progress",value:a})},onCampaignRunning(t,e,a){this.$store.commit("campaigns/updateCampaignKey",{campaignId:e,key:"running",value:a})}}};e.default=s},c5264:function(t,e,a){"use strict";a.r(e);var i=a("a306a"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},c5e8:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"c-campaign-actions"},[!t.campaign.ready||!t.campaign.message&&!t.isDirectory||t.campaign.running||t.campaign.dispatched?t._e():a("base-button",{key:"dispatch",staticClass:"c-campaign-actions__action c-campaign-actions__action--collapsable",attrs:{id:t.campaign.campaign_id,color:"green","left-icon":"send"},on:{click:t.onDispatch}},[t._v(t._s("automated"===t.campaign.type?t.$t("CAMPAIGNS.COMMON.SEND_ACTIVATE_CAMPAIGN"):t.$t("CAMPAIGNS.COMMON.SEND_GO_CAMPAIGN")))]),t.campaign.ready&&t.campaign.running?a("base-button",{key:"pause",staticClass:"c-campaign-actions__action c-campaign-actions__action--collapsable",attrs:{id:t.campaign.campaign_id,loading:t.pendingActions.pause,color:"red","left-icon":"pause_circle_filled"},on:{click:t.onPause}},[t._v(t._s("automated"===t.campaign.type?t.$t("CAMPAIGNS.COMMON.SEND_DEACTIVATE_CAMPAIGN"):t.$t("CAMPAIGNS.COMMON.SEND_PAUSE_CAMPAIGN")))]):t._e(),t.campaign.ready&&!t.campaign.running&&t.campaign.dispatched&&("automated"===t.campaign.type||t.campaign.progress<100&&t.campaign.progress>0)?a("base-button",{key:"resume",staticClass:"c-campaign-actions__action c-campaign-actions__action--collapsable",attrs:{id:t.campaign.campaign_id,loading:t.pendingActions.resume||t.pendingActions.dispatch,color:"orange","left-icon":"play_circle_filled"},on:{click:t.onResume}},[t._v(t._s("automated"===t.campaign.type?t.$t("CAMPAIGNS.COMMON.SEND_ACTIVATE_CAMPAIGN"):t.$t("CAMPAIGNS.COMMON.SEND_RESUME_CAMPAIGN")))]):t._e(),t.campaign.dispatched?a("base-button",{key:"analytics",staticClass:"c-campaign-actions__action c-campaign-actions__action--collapsable",attrs:{id:t.campaign.campaign_id,"left-icon":"insert_chart"},on:{click:t.onShowAnalytics}},[t._v(t._s(t.isDirectory?null:t.$t("CAMPAIGNS.COMMON.SHOW_ANALYTICS")))]):t._e(),t.isDirectory?[t.campaign.ready?t._e():a("base-button",{key:"configure",staticClass:"c-campaign-actions__action c-campaign-actions__action--collapsable",attrs:{id:t.campaign.campaign_id,"left-icon":"settings"},on:{click:t.onConfigure}},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.CONFIGURE_CAMPAIGN")))])]:[!1===t.isCampaignEdited&&"automated"!==t.campaign.type&&!0!==t.campaign.dispatched&&t.campaign.options&&!0===t.campaign.options.deliver_to_email&&t.campaign.message&&t.campaign.sender?a("base-button",{key:"test",staticClass:"c-campaign-actions__action c-campaign-actions__action--collapsable",attrs:{loading:t.pendingActions.test,color:"black","left-icon":"experiment"},on:{click:t.onTest}},[t._v(t._s(t.$t("CAMPAIGNS.COMMON.TEST_CAMPAIGN")))]):t._e(),("automated"===t.campaign.type?!0===t.isCampaignEdited&&t.campaign.flow.launch_event&&t.campaign.flow.assert_filter:!0===t.isCampaignEdited&&t.campaign.recipients&&t.campaign.recipients.type&&!0!==t.campaign.dispatched&&t.campaign.message&&t.campaign.sender)?a("base-button",{key:"save",staticClass:"c-campaign-actions__action",attrs:{loading:t.pendingActions.save||t.pendingActions.dispatch,"left-icon":"check_circle"},on:{click:t.onSave}},[t._v(t._s("automated"===t.campaign.type?t.$t("CAMPAIGNS.COMMON.SAVE_CAMPAIGN"):t.$t("CAMPAIGNS.COMMON.SAVE_CAMPAIGN_DRAFT")))]):t._e()]],2)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},c761:function(t,e,a){"use strict";var i=a("7ab4"),n=a.n(i);n.a},c922f:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-campaign-table-item{color:#000;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.c-campaign-table-item .c-campaign-table-item__headline{padding-left:0}.c-campaign-table-item .c-campaign-table-item__status{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:700}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__availability{margin-right:5px}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__done,.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__not-configured{color:#75869c}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__paused,.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__waiting{color:#fd7b1f}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__ready{color:#40b630}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__running{color:#0093ee}.c-campaign-table-item .c-campaign-table-item__checkbox{display:inline-block;margin-bottom:-2px;width:18px;height:18px}.c-campaign-table-item .c-campaign-table-item__date{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaign-table-item .c-campaign-table-item__date .c-campaign-table-item__updated{font-weight:700;font-size:13px}.c-campaign-table-item .c-campaign-table-item__date .c-campaign-table-item__created{margin-top:2px;color:#75869c;font-size:12px;line-height:13px}.c-campaign-table-item .c-campaign-table-item__progress{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaign-table-item .c-campaign-table-item__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-campaign-table-item .c-campaign-table-item__actions .c-campaign-table-item__action{margin-right:15px}.c-campaign-table-item:hover .c-campaign-table-item__actions{opacity:1}@media (max-width:96.875em){.c-campaign-table-item .c-campaign-table-item__actions .c-base-button__label{display:none}}",""]),t.exports=e},cbbf:function(t,e,a){"use strict";var i=a("2184"),n=a.n(i);n.a},cd3e:function(t,e,a){"use strict";a.r(e);var i=a("ff55"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},cdcb:function(t,e,a){var i=a("db69");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("4e6df7b5",i,!0,{sourceMap:!1,shadowMode:!1})},cfa5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),n=o(a("6a84")),s=o(a("85c1")),c=o(a("0315"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m={components:{CampaignTemplate:s.default},props:{campaignId:{type:String,required:!0},type:{type:String,required:!0,validator(t){return-1!==["one-shot","automated"].indexOf(t)}}},data(){return{websiteId:this.$route.params.websiteId,loading:!1,tooManyRecipients:!1}},computed:l({campaign(){return this.campaigns.find(t=>this.$route.params.campaignId===t.campaign_id)}},(0,i.mapState)("campaigns",["campaigns"])),methods:{onDispatch(){var t=!0;if(!0!==this.loading)return this.loading=!0,Promise.resolve().then(()=>this.$store.dispatch("campaigns/actionCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,action:"dispatch",updateKey:"dispatched",updateValue:!0})).then(()=>(n.default.success("campaigns_dispatched"),c.default.logEvent("Campaign initialized",{type:this.campaign.type}),Promise.resolve())).catch(e=>(this.loading=!1,t=!1,"campaign_recipients_limited"===e.reason&&(this.tooManyRecipients=!0,t=!1),"custom_domain_not_configured"===e.reason&&this.$emit("onDomainNotConfigured"),Promise.resolve())).then(()=>(this.loading=!1,!0===t&&this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filter:"all"}}),this.$emit("close"),Promise.resolve()))}}};e.default=m},cfa6:function(t,e,a){var i=a("4444");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("30399da7",i,!0,{sourceMap:!1,shadowMode:!1})},d225:function(t,e,a){"use strict";a.r(e);var i=a("15d9"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d22d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("f7fe")),n=a("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l=500,p={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,initialized:!1,loading:!1,page:1,searchFilter:null,searchLoading:!1,searchText:"",selectedRows:[],sortField:"active",sortOrder:"descending"}},computed:o({},(0,n.mapState)("contacts",["profiles"])),methods:{increasePageCount(t){this.page=t?null:this.page+1},loadContacts(t){return this.loading=!0,t||(this.initialized=!1),this.$store.dispatch("contacts/addProfiles",{page:this.page,searchFilter:this.searchFilter,searchText:this.searchText,sortField:this.sortField,sortOrder:this.sortOrder,websiteId:this.websiteId}).then(e=>(this.increasePageCount(e),this.loading=!1,e&&t?t.complete():t?t.loaded():this.initialized=!0,Promise.resolve())).catch(()=>{this.loading=!1})},onLoadMoreContacts(t){this.page?!this.loading&&this.page>1&&this.loadContacts(t):t.complete()},onSearch:(0,i.default)((function(t){this.searchLoading||(this.page=1,this.searchFilter=null,this.searchLoading=!0,this.searchText=t,this.loadContacts().then(()=>{this.searchLoading=!1}),"app.website.contacts.index"===this.$route.name&&(t?this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId},query:{query:t}}):this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId}})))}),l),onSortColumn(t,e){this.page=1,this.sortField=t,this.sortOrder=e,this.loadContacts()}}};e.default=p},d266:function(t,e,a){"use strict";a.r(e);var i=a("6514"),n=a("cd3e");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8e17");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},d520:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.c-items-selector{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-items-selector .c-items-selector__search{margin-bottom:12px}.c-items-selector .c-items-selector__items{overflow-x:hidden;overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;height:250px;border:1px solid #e3e8ef;border-radius:2px}.c-items-selector .c-items-selector__items:after{display:block;height:18px;content:""}.c-items-selector .c-items-selector__items .c-items-selector__item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:14px;border-bottom:1px solid #e3e8ef;-webkit-transition:background-color .1s linear;transition:background-color .1s linear;cursor:pointer}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__avatar,.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__checkbox{margin-right:14px}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__name{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__name .c-items-selector__nickname{margin-bottom:2px;font-weight:700;font-size:14px}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__name .c-items-selector__email{color:#75869c;font-size:13px}.c-items-selector .c-items-selector__items .c-items-selector__item:hover{background-color:#fafbfc}.c-items-selector .c-items-selector__items .c-items-selector__item:active{background-color:#f4f6f8}',""]),t.exports=e},d5e2:function(t,e,a){"use strict";var i=a("59d5"),n=a.n(i);n.a},d6f81:function(t,e,a){"use strict";a.r(e);var i=a("9685"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d7c0:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-campaigns-analytics"},[a("div",{staticClass:"o-page__header o-page__header--with-breadcrumb"},[a("base-breadcrumb",{staticClass:"o-page__breadcrumb",attrs:{items:t.breadcrumb.items,title:t.$t("CAMPAIGNS.ANALYTICS.TITLE")},on:{click:t.onBreadcrumbItemClick}})],1),a("div",{staticClass:"c-campaigns-analytics__box o-page__box o-page__box--no-animation o-page__box--no-background o-page__box--no-margin o-page__box--no-padding"},[t.cards.length>0?a("div",{staticClass:"c-campaigns-analytics__cards"},t._l(t.cards,(function(e){return t.campaign?a("base-card",{key:e.id,attrs:{active:t.currentContactCard===e.id,disabled:t.loading,clickable:e.clickable,id:e.id,title:e.progressBar.disabled?e.title+" ("+e.progressBar.labelSecondary+")":e.title,alignment:"left"},on:{click:t.onCardClick}},[e.progressBar.disabled?t._e():a("base-progress",{attrs:{color:e.progressBar.color,"label-secondary":t.$options.filters.asCommaNotation(e.progressBar.labelSecondary),"label-main":e.progressBar.progress+"%",progress:e.progressBar.progress,title:e.title}})],1):t._e()}))):t._e(),a("div",{staticClass:"c-campaigns-analytics__table-wrapper o-table"},[a("common-table",{staticClass:"c-campaigns-analytics__table",attrs:{data:t.profiles,fields:t.table.fields,initialized:t.initialized,"min-item-size":63,"key-field":"people_id"},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;e.index;return[a("div",{staticClass:"c-campaigns-analytics__tr o-table__tr o-table__tr--full-height"},[a("div",{staticClass:"c-campaigns-analytics__td o-table__td c-campaigns-analytics__avatar-wrapper",style:{width:"60px"}},[a("base-avatar",{staticClass:"c-campaigns-analytics__custom c-campaigns-analytics__avatar",attrs:{"avatar-url":i.profile&&i.profile.person&&i.profile.person.avatar,size:"small"}})],1),a("div",{staticClass:"c-campaigns-analytics__td o-table__td",style:{minWidth:"140px",width:"25%"}},[i.profile&&i.profile.person&&i.profile.person.nickname?a("span",{staticClass:"c-campaigns-analytics__nickname u-ellipsis"},[t._v(t._s(i.profile.person.nickname))]):t._e()]),a("div",{staticClass:"c-campaigns-analytics__td o-table__td",style:{minWidth:"200px",width:"25%"}},[i.profile&&i.profile.email?a("span",{staticClass:"c-campaigns-analytics__email u-ellipsis"},[t._v(t._s(i.profile.email))]):t._e()]),a("div",{staticClass:"c-campaigns-analytics__td o-table__td",style:{minWidth:"120px",width:"20%"}},[a("div",{staticClass:"c-campaigns-analytics__custom c-campaigns-analytics__location u-ellipsis"},[i.profile&&i.profile.person&&i.profile.person.geolocation&&i.profile.person.geolocation.city?a("span",{staticClass:"c-campaigns-analytics__city u-ellipsis"},[t._v(t._s(i.profile.person.geolocation.city))]):t._e(),i.profile&&i.profile.person&&i.profile.person.geolocation&&i.profile.person.geolocation.country?a("span",{staticClass:"c-campaigns-analytics__country u-ellipsis"},[a("base-flag",{staticClass:"c-campaigns-analytics__flag",attrs:{code:i.profile.person.geolocation.country,height:"12px",width:"17px"}}),t._v(t._s(t._f("isoCountry")(i.profile.person.geolocation.country)))],1):a("span",{directives:[{name:"t",rawName:"v-t",value:"CONTACTS.DEFAULT.ROW_UNKNOWN",expression:"'CONTACTS.DEFAULT.ROW_UNKNOWN'"}],staticClass:"c-campaigns-analytics__unknown"})])]),a("div",{staticClass:"c-campaigns-analytics__td o-table__td o-table__td--bold",style:{minWidth:"120px",width:"10%"}},[a("div",{staticClass:"c-campaigns-analytics__custom c-campaigns-analytics__date u-ellipsis"},[i.updated_at?a("span",{staticClass:"c-campaigns-analytics__since"},[t._v(t._s(t._f("timeAgo")(i.updated_at)))]):a("span",{staticClass:"c-campaigns-analytics__unknown"},[t._v(t._s(t.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")))])])]),a("div",{staticClass:"c-campaigns-analytics__actions c-campaigns-analytics__td o-table__td o-table__td--right",style:{minWidth:"120px",width:"20%"}},[a("base-button",{staticClass:"c-campaigns-analytics__action",attrs:{id:i.profile&&i.profile.people_id,loading:t.pendingChatPeopleId===i.profile.people_id,"left-icon":"crispy",size:"small"},on:{click:t.onMessageUserClick}},[t._v(t._s(t.$t("ANALYTICS.BOXES.HELPDESK.HELPDESK_FEEDBACK.DATATABLE_ROW_MESSAGE_CONTACT")))])],1)])]}}])},[t.page>=1?a("template",{slot:"infinite-loading"},[a("infinite-loading",{staticClass:"o-table__infinite",on:{infinite:t.onLoadMoreProfiles}},[a("base-spinner",{staticClass:"o-table__spinner",attrs:{slot:"spinner",size:"18px","border-width":"2px"},slot:"spinner"})],1)],1):t._e(),a("base-empty-spot",{attrs:{slot:"empty",description:t.$t("CAMPAIGNS.EDIT.STATISTICS_EMPTY_LABEL"),title:t.$t("CAMPAIGNS.EDIT.STATISTICS_EMPTY_TITLE"),illustration:"users"},slot:"empty"})],2)],1)])])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},d9a6:function(t,e,a){var i=a("2f98");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("663da9ea",i,!0,{sourceMap:!1,shadowMode:!1})},d9ea:function(t,e,a){"use strict";var i=a("cfa6"),n=a.n(i);n.a},d9f5:function(t,e,a){"use strict";a.r(e);var i=a("c3c0"),n=a("77e2");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("c761");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},da99:function(t,e,a){"use strict";var i=a("4956"),n=a.n(i);n.a},db69:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".c-auth-section{display:-webkit-box;display:-ms-flexbox;display:flex;padding:20px;border:2px solid #e3e8ef;border-radius:8px;-webkit-transition:border-color .1s linear;transition:border-color .1s linear;cursor:pointer}.c-auth-section .c-auth-section__illustration{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:100%}.c-auth-section .c-auth-section__content{font-size:14px;line-height:20px}.c-auth-section .c-auth-section__content .c-auth-section__description,.c-auth-section .c-auth-section__content .c-auth-section__title{margin-bottom:0}.c-auth-section .c-auth-section__content .c-auth-section__title{margin-bottom:11px;font-size:16px;line-height:20px}.c-auth-section .c-auth-section__content .c-auth-section__description{font-size:14px;line-height:17px}.c-auth-section--normal .c-auth-section__illustration{height:60px}.c-auth-section--high .c-auth-section__illustration{height:80px}.c-auth-section--horizontal{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.c-auth-section--horizontal .c-auth-section__illustration{margin-right:20px}.c-auth-section--vertical{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-auth-section--vertical .c-auth-section__illustration{margin-bottom:20px}.c-auth-section--active{border-color:#0093ee}",""]),t.exports=e},de33:function(t,e,a){"use strict";var i=a("372e"),n=a.n(i);n.a},e429:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,loading:!1,destroyed:!1,fnRequestChildClose:null}},computed:{hotkeys(){return{esc:this.onRequestClose}}},created(){this.loadAndGoToCampaign()},destroyed(){this.destroyed=!0},methods:{onRequestClose(){"function"===typeof this.fnRequestChildClose?this.fnRequestChildClose():this.onExit()},onReceiverCloseRequest(t){this.fnRequestChildClose=t||null},onExit(){this.$emit("exit")},loadAndGoToCampaign(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/fetchCampaign",{websiteId:this.websiteId,campaignId:this.campaignId}).then(t=>{if(!0!==this.destroyed&&"app.website.campaigns.configure"===this.$route.name)if(t.dispatched){var e="automated"===t.type?"app.website.campaigns.editor":"app.website.campaigns.analytics";this.$router.push({name:e,params:{websiteId:this.websiteId,campaignId:this.campaignId}})}else if(t.message)this.$router.push({name:"app.website.campaigns.editor",params:{websiteId:this.websiteId,campaignId:this.campaignId}});else{var a="automated"===t.type?"app.website.campaigns.flow":"app.website.campaigns.recipients";this.$router.push({name:a,params:{websiteId:this.websiteId,campaignId:this.campaignId}})}this.loading=!1}).catch(()=>{this.onExit()}))}}};e.default=i},e51a:function(t,e,a){var i=a("0075");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("148a9452",i,!0,{sourceMap:!1,shadowMode:!1})},e697:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId}},computed:s({breadcrumb(){var t={items:[{id:"app.website.campaigns.templates",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_TEMPLATES")},{id:"app.website.campaigns.editor",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_EDITOR")},{id:"app.website.campaigns.analytics",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_ANALYTICS")}]};if(this.campaign){var e=null;"automated"===this.campaign.type?e={id:"app.website.campaigns.flow",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_CONDITIONS")}:"one-shot"===this.campaign.type&&(e={id:"app.website.campaigns.recipients",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_RECIPIENTS")}),e&&t.items.unshift(e),"one-shot"===this.campaign.type&&this.campaign.dispatched&&t.items.forEach(t=>{switch(t.id){case"app.website.campaigns.recipients":case"app.website.campaigns.templates":t.disabled=!0;break}})}return t.items.forEach(t=>{t.active=t.id===this.activeBreadcrumbItem}),t},campaign(){return this.campaigns.find(t=>t.campaign_id===this.campaignId)}},(0,i.mapState)("campaigns",["campaigns","templates"]),{},(0,i.mapState)("user",["me"])),watch:{campaign:{immediate:!0,handler(t){t&&(t.sender&&t.sender.user_id||this.$store.commit("campaigns/updateCampaignSender",{campaignId:this.campaign.campaign_id,userId:this.me.user_id}))}}},created(){this.campaign||this.$store.dispatch("campaigns/fetchCampaign",{websiteId:this.websiteId,campaignId:this.campaignId}),this.templates&&0===this.templates.length&&this.$store.dispatch("campaigns/fetchTemplates",{websiteId:this.websiteId})},methods:{onBreadcrumbItemClick(t,e){e&&this.$router.push({name:t,params:{websiteId:this.websiteId,campaignId:this.campaignId}})}}};e.default=o},e6c4:function(t,e,a){"use strict";a.r(e);var i=a("24f9"),n=a("ea215");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("6544");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},e85f:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["c-campaign-condition",{"c-campaign-condition--disabled":t.disabled,"c-campaign-condition--locked":t.locked,"c-campaign-condition--with-slot":t.$slots.default}]},[a("div",{staticClass:"c-campaign-condition__container"},[a("div",{staticClass:"c-campaign-condition__header"},[t.number?a("span",{staticClass:"c-campaign-condition__number u-bold"},[t._v(t._s(t.number))]):t._e(),t.success?a("base-icon",{staticClass:"c-campaign-condition__success",attrs:{name:"check_circle",size:"20px"}}):t._e(),a("div",{staticClass:"c-campaign-condition__title"},[t._v(t._s(t.title))])],1),t.$slots.default?a("div",{staticClass:"c-campaign-condition__slot"},[t._t("default")],2):t._e()]),t.showArrow?a("div",{staticClass:"c-campaign-condition__arrow"}):t._e()])},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},e9c2:function(t,e,a){"use strict";a.r(e);var i=a("50f4"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},ea215:function(t,e,a){"use strict";a.r(e);var i=a("6cac"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},ea3d:function(t,e,a){var i=a("893a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("105f5978",i,!0,{sourceMap:!1,shadowMode:!1})},ee208:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:t.hotkeys,expression:"hotkeys"}],staticClass:"c-campaigns-configure o-page"},[a("div",{staticClass:"c-campaigns-configure__container o-page__container o-page__container--full"},[t.loading?a("div",{staticClass:"c-campaigns-configure__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},[a("div",{staticClass:"c-campaigns-configure__loading"},[a("base-spinner",{attrs:{size:"22px"}})],1)]):a("router-view",{on:{"receiver-close-request":t.onReceiverCloseRequest,exit:t.onExit}})],1),a("base-overlay",{attrs:{"has-close":""},on:{close:t.onRequestClose}})],1)},n=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}))},ef48:function(t,e,a){"use strict";a.r(e);var i=a("e429"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},efca:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{active:{type:Boolean,default:!1},alignment:{type:String,default:"horizontal",validator(t){return-1!==["horizontal","vertical"].indexOf(t)}},height:{type:String,default:"normal",validator(t){return-1!==["normal","high"].indexOf(t)}},description:{type:String,required:!0},id:{type:String,required:!0},illustration:{type:String,default:null},title:{type:String,required:!0},illustrationClass:{type:String,default:null}},methods:{onClick(){this.$emit("click",this.id)}}};e.default=i},f32b:function(t,e,a){"use strict";var i=a("cdcb"),n=a.n(i);n.a},f3e5:function(t,e,a){"use strict";a.r(e);var i=a("2522"),n=a("3f05");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("0885");var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},f49dd:function(t,e,a){"use strict";a.r(e);var i=a("2a932"),n=a("1c62");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var c=a("2877"),o=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=o.exports},f809:function(t,e,a){var i=a("3f709");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("3ceaa14c",i,!0,{sourceMap:!1,shadowMode:!1})},f9e0:function(t,e,a){"use strict";var i=a("5ce4"),n=a.n(i);n.a},fbc5:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.c-campaign-condition .c-campaign-condition__container{overflow:hidden;border:1px solid #d6dde8;border-radius:2px}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 20px;background-color:#fafbfc;font-weight:700;font-size:14px}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header .c-campaign-condition__number{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;width:20px;height:20px;border-radius:100%;background-color:#0093ee;color:#fff;font-size:12px}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header .c-campaign-condition__title{color:#000}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header .c-campaign-condition__success{margin-right:6px;fill:#40b630}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__slot{padding:20px}.c-campaign-condition .c-campaign-condition__arrow{position:relative}.c-campaign-condition .c-campaign-condition__arrow:before{display:block;margin:14px auto 0;width:6px;height:18px;background-color:#e3e8ef;content:""}.c-campaign-condition .c-campaign-condition__arrow:after{position:absolute;top:100%;left:50%;margin-left:-12px;width:0;height:0;border:solid transparent;border-width:12px;border-color:rgba(136,183,213,0);border-top-color:#e3e8ef;content:" ";pointer-events:none}.c-campaign-condition--disabled{opacity:.5;pointer-events:none}.c-campaign-condition--locked{pointer-events:none}.c-campaign-condition--with-slot .c-campaign-condition__container .c-campaign-condition__header{border-bottom:1px solid #d6dde8}',""]),t.exports=e},ff55:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("f7fe")),n=o(a("8823")),s=o(a("8508")),c=o(a("e697"));function o(t){return t&&t.__esModule?t:{default:t}}var r=100,l={components:{CampaignCondition:n.default,SegmentationBox:s.default},mixins:[c.default],data(){return{activeBreadcrumbItem:"app.website.campaigns.flow",loading:!1}},computed:{assertDelay:{get(){return this.campaign&&this.campaign.flow&&"number"===typeof this.campaign.flow.assert_delay?this.campaign.flow.assert_delay:0},set:(0,i.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"assert_delay",value:t})}),r)},assertFilter:{get(){return this.campaign&&this.campaign.flow&&this.campaign.flow.assert_filter?this.campaign.flow.assert_filter:[]},set:function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"assert_filter",value:t})}},deliverDelay:{get(){return this.campaign&&this.campaign.flow&&"number"===typeof this.campaign.flow.deliver_delay?this.campaign.flow.deliver_delay:0},set:(0,i.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"deliver_delay",value:t})}),r)},deliverOnce:{get(){return!this.campaign||!this.campaign.flow||"boolean"!==typeof this.campaign.flow.deliver_once||this.campaign.flow.deliver_once},set:(0,i.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"deliver_once",value:t})}),r)},launchEvent:{get(){return this.campaign&&this.campaign.flow&&this.campaign.flow.launch_event?this.campaign.flow.launch_event:""},set:(0,i.default)((function(t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"launch_event",value:t})}),r)}},mounted(){this.$emit("receiver-close-request",null)},methods:{onBack(){this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filter:"all"}})},onSaveFlow(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,campaignPartial:{flow:this.campaign.flow}}).then(()=>this.campaign&&"automated"===this.campaign.type&&!0===this.campaign.dispatched&&!0===this.campaign.running?this.$store.dispatch("campaigns/actionCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,action:"dispatch",updateKey:"dispatched",updateValue:!0}):Promise.resolve()).then(()=>(this.$router.push({name:"app.website.campaigns.templates",params:{websiteId:this.websiteId,campaignId:this.campaignId}}),Promise.resolve())).catch(()=>{this.loading=!1}))}}};e.default=l}}]);